{"ast":null,"code":"import _objectSpread from\"/home/erico/Projetos/vm-import-ui/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useMemo}from'react';import{Plus,ChevronRight,Server,Folder,Cloud,HardDrive,ArrowRight,X,Loader,CheckCircle,Clock,Cpu,MemoryStick,Trash2,Edit,AlertTriangle,RefreshCw,List,Package,Info}from'lucide-react';// --- Helper Functions ---\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const formatBytes=function(bytes){let decimals=arguments.length>1&&arguments[1]!==undefined?arguments[1]:2;if(!bytes||bytes===0)return'0 Bytes';const k=1024;const dm=decimals<0?0:decimals;const sizes=['Bytes','KB','MB','GB','TB','PB'];const i=Math.floor(Math.log(bytes)/Math.log(k));return parseFloat((bytes/Math.pow(k,i)).toFixed(dm))+' '+sizes[i];};const formatSeconds=seconds=>{if(seconds===Infinity||isNaN(seconds)||seconds<0)return'...';const d=Math.floor(seconds/(3600*24));const h=Math.floor(seconds%(3600*24)/3600);const m=Math.floor(seconds%3600/60);const s=Math.floor(seconds%60);if(d>0)return\"\".concat(d,\"d \").concat(h,\"h\");if(h>0)return\"\".concat(h,\"h \").concat(m,\"m\");if(m>0)return\"\".concat(m,\"m \").concat(s,\"s\");return\"\".concat(s,\"s\");};// --- Components ---\nconst Header=_ref=>{let{title,onButtonClick}=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6 pb-4 border-b border-gray-200\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-semibold text-gray-800\",children:title}),onButtonClick&&/*#__PURE__*/_jsxs(\"button\",{onClick:onButtonClick,className:\"flex items-center bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded-md shadow\",children:[/*#__PURE__*/_jsx(Plus,{size:20,className:\"mr-2\"}),\"Create\"]})]});};const getPlanStatus=plan=>{var _plan$status,_plan$status2,_plan$status2$conditi,_plan$status2$conditi2;if((_plan$status=plan.status)!==null&&_plan$status!==void 0&&_plan$status.importStatus){return plan.status.importStatus;}if((_plan$status2=plan.status)!==null&&_plan$status2!==void 0&&(_plan$status2$conditi=_plan$status2.conditions)!==null&&_plan$status2$conditi!==void 0&&(_plan$status2$conditi2=_plan$status2$conditi[0])!==null&&_plan$status2$conditi2!==void 0&&_plan$status2$conditi2.type){return plan.status.conditions[0].type;}return'Pending';};const ResourceTable=_ref2=>{let{plans,onViewDetails,onDelete}=_ref2;return/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow-md rounded-lg overflow-hidden\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"VM Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Target Namespace\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Storage Class\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:plans.length===0?/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"6\",className:\"px-6 py-4 text-center text-sm text-gray-500\",children:\"No migration plans found.\"})}):plans.map(plan=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\",children:plan.metadata.name}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",children:getPlanStatus(plan)}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",children:plan.spec.virtualMachineName}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",children:plan.metadata.namespace}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",children:plan.spec.storageClass}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{},title:\"Edit\",className:\"text-gray-600 hover:text-gray-800 cursor-not-allowed\",children:/*#__PURE__*/_jsx(Edit,{size:18})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onDelete(plan),title:\"Delete\",className:\"text-red-600 hover:text-red-800\",children:/*#__PURE__*/_jsx(Trash2,{size:18})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onViewDetails(plan),className:\"text-blue-600 hover:text-blue-800\",children:\"Details\"})]})]},plan.metadata.uid))})]})});};const SourcesTable=_ref3=>{let{sources,onEdit,onDelete,onViewDetails}=_ref3;return/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow-md rounded-lg overflow-hidden\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Namespace\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Endpoint\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:sources.length===0?/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"4\",className:\"px-6 py-4 text-center text-sm text-gray-500\",children:\"No vCenter sources found.\"})}):sources.map(source=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\",children:source.metadata.name}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",children:source.metadata.namespace}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",children:source.spec.endpoint}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>onEdit(source),title:\"Edit\",className:\"text-blue-600 hover:text-blue-800\",children:/*#__PURE__*/_jsx(Edit,{size:18})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onDelete(source),title:\"Delete\",className:\"text-red-600 hover:text-red-800\",children:/*#__PURE__*/_jsx(Trash2,{size:18})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onViewDetails(source),className:\"text-blue-600 hover:text-blue-800\",children:\"Details\"})]})]},source.metadata.uid))})]})});};const SourceWizard=_ref4=>{let{onCancel,onSave,source}=_ref4;const[name,setName]=useState('');const[namespace,setNamespace]=useState('default');const[endpoint,setEndpoint]=useState('');const[datacenter,setDatacenter]=useState('');const[username,setUsername]=useState('');const[password,setPassword]=useState('');const isEditMode=!!source;useEffect(()=>{if(isEditMode){setName(source.metadata.name);setNamespace(source.metadata.namespace);setEndpoint(source.spec.endpoint);setDatacenter(source.spec.dc);setUsername(source.spec.username||'');}},[source,isEditMode]);const handleSubmit=()=>{const payload={name,namespace,endpoint,datacenter,username,password};onSave(payload,isEditMode);};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center p-4 z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-xl w-full max-w-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-b\",children:/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-semibold\",children:[isEditMode?'Edit':'Create',\" vCenter Source\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,onChange:e=>setName(e.target.value),disabled:isEditMode,className:\"mt-1 block w-full form-input disabled:bg-gray-200\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Namespace\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:namespace,onChange:e=>setNamespace(e.target.value),disabled:isEditMode,className:\"mt-1 block w-full form-input disabled:bg-gray-200\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"vCenter Endpoint URL\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"https://vcenter.your-domain.com/sdk\",value:endpoint,onChange:e=>setEndpoint(e.target.value),className:\"mt-1 block w-full form-input\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Datacenter Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:datacenter,onChange:e=>setDatacenter(e.target.value),className:\"mt-1 block w-full form-input\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:username,onChange:e=>setUsername(e.target.value),className:\"mt-1 block w-full form-input\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:e=>setPassword(e.target.value),className:\"mt-1 block w-full form-input\",placeholder:isEditMode?\"Leave blank to keep existing password\":\"\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border-t flex justify-end space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:onCancel,className:\"bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-4 rounded-md\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,className:\"bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded-md\",children:\"Save\"})]})]})});};const SourceDetails=_ref5=>{let{source,onClose}=_ref5;const[yamlContent,setYamlContent]=useState('');const[showYaml,setShowYaml]=useState(false);const[isLoadingYaml,setIsLoadingYaml]=useState(false);const fetchYaml=async()=>{setIsLoadingYaml(true);try{const response=await fetch(\"/api/v1/harvester/vmwaresources/\".concat(source.metadata.namespace,\"/\").concat(source.metadata.name,\"/yaml\"));const data=await response.text();setYamlContent(data||\"Could not generate YAML.\");}catch(err){setYamlContent(\"Failed to fetch YAML.\");}finally{setIsLoadingYaml(false);}};const handleShowYaml=()=>{if(showYaml){setShowYaml(false);}else{setShowYaml(true);fetchYaml();}};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center p-4 z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-xl w-full max-w-2xl flex flex-col max-h-[90vh]\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center p-4 border-b\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-800\",children:source.metadata.name}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"p-2 rounded-full hover:bg-gray-200\",children:/*#__PURE__*/_jsx(X,{size:20})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 space-y-6 overflow-y-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"Source Summary\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 bg-gray-50 rounded-md border text-sm space-y-1\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Endpoint:\"}),\" \",source.spec.endpoint]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Datacenter:\"}),\" \",source.spec.dc]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Credentials Secret:\"}),\" \",source.spec.credentials.namespace,\"/\",source.spec.credentials.name]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handleShowYaml,className:\"text-sm text-blue-600 hover:underline\",children:[showYaml?'Hide':'View',\" YAML\"]}),showYaml&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 p-2 border rounded-md bg-gray-900 text-white font-mono text-xs max-h-64 overflow-y-auto\",children:/*#__PURE__*/_jsx(\"pre\",{children:isLoadingYaml?'Loading...':yamlContent})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-t bg-gray-50 text-right rounded-b-lg\",children:/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"bg-gray-600 hover:bg-gray-700 text-white font-semibold py-2 px-4 rounded-md\",children:\"Close\"})})]})});};const OvaSourcesTable=_ref6=>{let{sources,onEdit,onDelete,onViewDetails}=_ref6;return/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow-md rounded-lg overflow-hidden\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Namespace\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"URL\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:sources.length===0?/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"4\",className:\"px-6 py-4 text-center text-sm text-gray-500\",children:\"No OVA sources found.\"})}):sources.map(source=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\",children:source.metadata.name}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",children:source.metadata.namespace}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",children:source.spec.url}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>onEdit(source),title:\"Edit\",className:\"text-blue-600 hover:text-blue-800\",children:/*#__PURE__*/_jsx(Edit,{size:18})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onDelete(source),title:\"Delete\",className:\"text-red-600 hover:text-red-800\",children:/*#__PURE__*/_jsx(Trash2,{size:18})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onViewDetails(source),className:\"text-blue-600 hover:text-blue-800\",children:\"Details\"})]})]},source.metadata.uid))})]})});};const OvaSourceWizard=_ref7=>{let{onCancel,onSave,source}=_ref7;const[name,setName]=useState('');const[namespace,setNamespace]=useState('default');const[url,setUrl]=useState('');const[httpTimeoutSeconds,setHttpTimeoutSeconds]=useState('');const[username,setUsername]=useState('');const[password,setPassword]=useState('');const isEditMode=!!source;useEffect(()=>{if(isEditMode){setName(source.metadata.name);setNamespace(source.metadata.namespace);setUrl(source.spec.url||'');setHttpTimeoutSeconds(source.spec.httpTimeoutSeconds||'');setUsername(source.spec.username||'');}},[source,isEditMode]);const handleSubmit=()=>{const payload={name,namespace,url,httpTimeoutSeconds:httpTimeoutSeconds?parseInt(httpTimeoutSeconds,10):0,username,password};onSave(payload,isEditMode);};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center p-4 z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-xl w-full max-w-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-b\",children:/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-semibold\",children:[isEditMode?'Edit':'Create',\" OVA Source\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,onChange:e=>setName(e.target.value),disabled:isEditMode,className:\"mt-1 block w-full form-input disabled:bg-gray-200\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Namespace\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:namespace,onChange:e=>setNamespace(e.target.value),disabled:isEditMode,className:\"mt-1 block w-full form-input disabled:bg-gray-200\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"OVA File URL\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"http://192.168.0.1:8080/example.ova\",value:url,onChange:e=>setUrl(e.target.value),className:\"mt-1 block w-full form-input\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"HTTP Timeout (Seconds)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Optional. Default is 600\",value:httpTimeoutSeconds,onChange:e=>setHttpTimeoutSeconds(e.target.value),className:\"mt-1 block w-full form-input\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:username,onChange:e=>setUsername(e.target.value),className:\"mt-1 block w-full form-input\",placeholder:\"Optional\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:e=>setPassword(e.target.value),className:\"mt-1 block w-full form-input\",placeholder:isEditMode?\"Leave blank to keep existing password\":\"Optional\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border-t flex justify-end space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:onCancel,className:\"bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-4 rounded-md\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,className:\"bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded-md\",children:\"Save\"})]})]})});};const OvaSourceDetails=_ref8=>{let{source,onClose}=_ref8;const[yamlContent,setYamlContent]=useState('');const[showYaml,setShowYaml]=useState(false);const[isLoadingYaml,setIsLoadingYaml]=useState(false);const fetchYaml=async()=>{setIsLoadingYaml(true);try{const response=await fetch(\"/api/v1/harvester/ovasources/\".concat(source.metadata.namespace,\"/\").concat(source.metadata.name,\"/yaml\"));const data=await response.text();setYamlContent(data||\"Could not generate YAML.\");}catch(err){setYamlContent(\"Failed to fetch YAML.\");}finally{setIsLoadingYaml(false);}};const handleShowYaml=()=>{if(showYaml){setShowYaml(false);}else{setShowYaml(true);fetchYaml();}};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center p-4 z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-xl w-full max-w-2xl flex flex-col max-h-[90vh]\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center p-4 border-b\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-800\",children:source.metadata.name}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"p-2 rounded-full hover:bg-gray-200\",children:/*#__PURE__*/_jsx(X,{size:20})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 space-y-6 overflow-y-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"Source Summary\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 bg-gray-50 rounded-md border text-sm space-y-1\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"URL:\"}),\" \",source.spec.url]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"HTTP Timeout:\"}),\" \",source.spec.httpTimeoutSeconds||'600',\"s\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Credentials Secret:\"}),\" \",source.spec.credentials.namespace,\"/\",source.spec.credentials.name]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handleShowYaml,className:\"text-sm text-blue-600 hover:underline\",children:[showYaml?'Hide':'View',\" YAML\"]}),showYaml&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 p-2 border rounded-md bg-gray-900 text-white font-mono text-xs max-h-64 overflow-y-auto\",children:/*#__PURE__*/_jsx(\"pre\",{children:isLoadingYaml?'Loading...':yamlContent})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-t bg-gray-50 text-right rounded-b-lg\",children:/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"bg-gray-600 hover:bg-gray-700 text-white font-semibold py-2 px-4 rounded-md\",children:\"Close\"})})]})});};const PlanDetails=_ref9=>{var _plan$vms,_plan$vms$,_plan$vms2,_plan$vms2$,_plan$vms3,_plan$vms3$,_plan$spec,_plan$spec2,_plan$spec3,_plan$spec3$sourceClu,_plan$spec4,_plan$spec4$sourceClu,_plan$spec5,_plan$spec6,_plan$spec7,_plan$spec8,_plan$spec9,_plan$spec0;let{plan,onClose}=_ref9;const[logs,setLogs]=useState('');const[yamlContent,setYamlContent]=useState('');const[showDebug,setShowDebug]=useState(null);// 'logs' or 'yaml'\nconst[isLoadingDebug,setIsLoadingDebug]=useState(false);const fetchLogs=async()=>{setIsLoadingDebug(true);try{const response=await fetch(\"/api/v1/plans/\".concat(plan.metadata.namespace,\"/\").concat(plan.metadata.name,\"/logs\"));const data=await response.text();setLogs(data||\"No relevant logs found.\");}catch(err){setLogs(\"Failed to fetch logs.\");}finally{setIsLoadingDebug(false);}};const fetchYaml=async()=>{setIsLoadingDebug(true);try{const response=await fetch(\"/api/v1/plans/\".concat(plan.metadata.namespace,\"/\").concat(plan.metadata.name,\"/yaml\"));const data=await response.text();setYamlContent(data||\"Could not generate YAML.\");}catch(err){setYamlContent(\"Failed to fetch YAML.\");}finally{setIsLoadingDebug(false);}};const handleShowDebug=type=>{if(showDebug===type){setShowDebug(null);// Toggle off\nreturn;}setShowDebug(type);if(type==='logs'){fetchLogs();}else if(type==='yaml'){fetchYaml();}};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center p-4 z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-xl w-full max-w-3xl flex flex-col max-h-[90vh]\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center p-4 border-b\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-800\",children:plan.metadata.name}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"p-2 rounded-full hover:bg-gray-200\",children:/*#__PURE__*/_jsx(X,{size:20})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 space-y-6 overflow-y-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"VM Characteristics\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 bg-gray-50 rounded-md border text-sm space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(Cpu,{size:16,className:\"mr-2 text-gray-600\"}),/*#__PURE__*/_jsxs(\"span\",{children:[((_plan$vms=plan.vms)===null||_plan$vms===void 0?void 0:(_plan$vms$=_plan$vms[0])===null||_plan$vms$===void 0?void 0:_plan$vms$.cpu)||'N/A',\" vCPU(s)\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(MemoryStick,{size:16,className:\"mr-2 text-gray-600\"}),/*#__PURE__*/_jsxs(\"span\",{children:[formatBytes((((_plan$vms2=plan.vms)===null||_plan$vms2===void 0?void 0:(_plan$vms2$=_plan$vms2[0])===null||_plan$vms2$===void 0?void 0:_plan$vms2$.memoryMB)||0)*1024*1024,0),\" Memory\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(HardDrive,{size:16,className:\"mr-2 text-gray-600\"}),/*#__PURE__*/_jsxs(\"span\",{children:[((_plan$vms3=plan.vms)===null||_plan$vms3===void 0?void 0:(_plan$vms3$=_plan$vms3[0])===null||_plan$vms3$===void 0?void 0:_plan$vms3$.diskSizeGB)||'N/A',\" GB Storage\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(Folder,{size:16,className:\"mr-2 text-gray-600\"}),/*#__PURE__*/_jsx(\"span\",{children:((_plan$spec=plan.spec)===null||_plan$spec===void 0?void 0:_plan$spec.folder)||'/'})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"Plan Summary\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 bg-gray-50 rounded-md border text-sm space-y-1\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"VM Name:\"}),\" \",((_plan$spec2=plan.spec)===null||_plan$spec2===void 0?void 0:_plan$spec2.virtualMachineName)||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Source:\"}),\" \",(_plan$spec3=plan.spec)===null||_plan$spec3===void 0?void 0:(_plan$spec3$sourceClu=_plan$spec3.sourceCluster)===null||_plan$spec3$sourceClu===void 0?void 0:_plan$spec3$sourceClu.namespace,\"/\",((_plan$spec4=plan.spec)===null||_plan$spec4===void 0?void 0:(_plan$spec4$sourceClu=_plan$spec4.sourceCluster)===null||_plan$spec4$sourceClu===void 0?void 0:_plan$spec4$sourceClu.name)||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Storage Class:\"}),\" \",((_plan$spec5=plan.spec)===null||_plan$spec5===void 0?void 0:_plan$spec5.storageClass)||'N/A']}),((_plan$spec6=plan.spec)===null||_plan$spec6===void 0?void 0:_plan$spec6.forcePowerOff)&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Force Power Off:\"}),\" Yes\"]}),((_plan$spec7=plan.spec)===null||_plan$spec7===void 0?void 0:_plan$spec7.gracefulShutdownTimeoutSeconds)>0&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Shutdown Timeout:\"}),\" \",plan.spec.gracefulShutdownTimeoutSeconds,\"s\"]}),((_plan$spec8=plan.spec)===null||_plan$spec8===void 0?void 0:_plan$spec8.defaultNetworkInterfaceModel)&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Default Interface:\"}),\" \",plan.spec.defaultNetworkInterfaceModel]}),((_plan$spec9=plan.spec)===null||_plan$spec9===void 0?void 0:_plan$spec9.skipPreflightChecks)&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Skip Validation:\"}),\" Yes\"]}),((_plan$spec0=plan.spec)===null||_plan$spec0===void 0?void 0:_plan$spec0.defaultDiskBusType)&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Disk Bus:\"}),\" \",plan.spec.defaultDiskBusType]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleShowDebug('logs'),className:\"text-sm text-blue-600 hover:underline\",children:[showDebug==='logs'?'Hide':'Show',\" Debug Logs\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleShowDebug('yaml'),className:\"text-sm text-blue-600 hover:underline\",children:[showDebug==='yaml'?'Hide':'View',\" YAML\"]})]}),showDebug&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 p-2 border rounded-md bg-gray-900 text-white font-mono text-xs max-h-48 overflow-y-auto\",children:/*#__PURE__*/_jsx(\"pre\",{children:isLoadingDebug?'Loading...':showDebug==='logs'?logs:yamlContent})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-t bg-gray-50 text-right rounded-b-lg\",children:/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"bg-gray-600 hover:bg-gray-700 text-white font-semibold py-2 px-4 rounded-md\",children:\"Close\"})})]})});};const VmIcon=_ref0=>{let{type}=_ref0;switch(type){case'datacenter':return/*#__PURE__*/_jsx(Cloud,{className:\"w-5 h-5 text-blue-500\"});case'ClusterComputeResource':return/*#__PURE__*/_jsx(Server,{className:\"w-5 h-5 text-purple-500\"});case'Folder':return/*#__PURE__*/_jsx(Folder,{className:\"w-5 h-5 text-yellow-600\"});case'VirtualMachine':return/*#__PURE__*/_jsx(HardDrive,{className:\"w-5 h-5 text-gray-600\"});default:return null;}};const InventoryTree=_ref1=>{let{node,onVmSelect,currentlySelectedVm,level=0}=_ref1;const[isOpen,setIsOpen]=useState(level<2);const isParent=node.children&&node.children.length>0;const handleNodeClick=()=>{if(isParent){setIsOpen(!isOpen);}else if(node.type==='VirtualMachine'){onVmSelect(node);}};return/*#__PURE__*/_jsxs(\"div\",{style:{paddingLeft:level>0?'20px':'0px'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center p-2 rounded-md cursor-pointer \".concat((currentlySelectedVm===null||currentlySelectedVm===void 0?void 0:currentlySelectedVm.name)===node.name?'bg-blue-100':'hover:bg-gray-100'),onClick:handleNodeClick,children:[isParent&&/*#__PURE__*/_jsx(ChevronRight,{size:16,className:\"mr-1 transform transition-transform \".concat(isOpen?'rotate-90':'')}),/*#__PURE__*/_jsx(VmIcon,{type:node.type}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-gray-800\",children:node.name})]}),isOpen&&isParent&&/*#__PURE__*/_jsx(\"div\",{children:node.children.map((child,index)=>/*#__PURE__*/_jsx(InventoryTree,{node:child,onVmSelect:onVmSelect,currentlySelectedVm:currentlySelectedVm,level:level+1},index))})]});};const VmDetailsPanel=_ref10=>{let{vm}=_ref10;if(!vm){return/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border rounded-md bg-gray-50 h-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"Select a VM to see details\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border rounded-md bg-gray-50 h-full\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:vm.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(Cpu,{size:16,className:\"mr-2 text-gray-600\"}),/*#__PURE__*/_jsxs(\"span\",{children:[vm.cpu||'N/A',\" vCPU(s)\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(MemoryStick,{size:16,className:\"mr-2 text-gray-600\"}),/*#__PURE__*/_jsxs(\"span\",{children:[formatBytes((vm.memoryMB||0)*1024*1024,0),\" Memory\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(HardDrive,{size:16,className:\"mr-2 text-gray-600\"}),/*#__PURE__*/_jsxs(\"span\",{children:[vm.diskSizeGB||'N/A',\" GB Storage\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(Folder,{size:16,className:\"mr-2 text-gray-600\"}),/*#__PURE__*/_jsx(\"span\",{children:vm.folder||'/'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-800 mt-4 mb-1\",children:\"Networks\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-disc list-inside pl-2\",children:(vm.networks||[]).map((net,i)=>/*#__PURE__*/_jsx(\"li\",{children:net},i))})]})]})]});};// --- UPDATED WIZARD COMPONENT ---\nconst CreatePlanWizard=_ref11=>{let{onCancel,onCreatePlan,capabilities}=_ref11;const[step,setStep]=useState(1);const[sourceType,setSourceType]=useState('vmware');const[vmwareSources,setVmwareSources]=useState([]);const[ovaSources,setOvaSources]=useState([]);const[selectedSource,setSelectedSource]=useState(\"\");const[vcenterInventory,setVcenterInventory]=useState(null);const[isConnecting,setIsConnecting]=useState(false);const[connectionError,setConnectionError]=useState('');const[selectedVm,setSelectedVm]=useState(null);const[planName,setPlanName]=useState('');const[targetNamespace,setTargetNamespace]=useState('');const[newNamespace,setNewNamespace]=useState('');const[namespaces,setNamespaces]=useState([]);const[existingVmNames,setExistingVmNames]=useState([]);const[vmNameConflict,setVmNameConflict]=useState(false);const[ovaVmName,setOvaVmName]=useState('');// Updated state for mappings\nconst[networkMappings,setNetworkMappings]=useState({});const[networkModels,setNetworkModels]=useState({});const[harvesterNetworks,setHarvesterNetworks]=useState([]);const[storageClass,setStorageClass]=useState('');const[storageClasses,setStorageClasses]=useState([]);// New state for advanced options\nconst[forcePowerOff,setForcePowerOff]=useState(false);const[shutdownTimeout,setShutdownTimeout]=useState('');const[defaultModel,setDefaultModel]=useState('');// NEW: States for v1.6 features\nconst[skipPreflight,setSkipPreflight]=useState(false);const[diskBus,setDiskBus]=useState('');const fetchNamespaces=()=>{fetch('/api/v1/harvester/namespaces').then(res=>res.json()).then(data=>setNamespaces(data.map(ns=>ns.metadata.name))).catch(err=>console.error(\"Failed to fetch namespaces:\",err));};const fetchSources=()=>{fetch('/api/v1/harvester/vmwaresources').then(res=>res.json()).then(data=>setVmwareSources(data||[])).catch(err=>console.error(\"Failed to fetch VmwareSources:\",err));};const fetchOvaSources=()=>{fetch('/api/v1/harvester/ovasources').then(res=>res.json()).then(data=>setOvaSources(data||[])).catch(err=>console.error(\"Failed to fetch OvaSources:\",err));};const fetchNetworks=()=>{fetch('/api/v1/harvester/vlanconfigs').then(res=>res.json()).then(data=>setHarvesterNetworks(data.map(net=>net.metadata.namespace+\"/\"+net.metadata.name)));};const fetchStorageClasses=()=>{fetch('/api/v1/harvester/storageclasses').then(res=>res.json()).then(data=>setStorageClasses(data.map(sc=>sc.metadata.name)));};const fetchVmsInNamespace=async namespace=>{if(!namespace){setExistingVmNames([]);return;}try{const response=await fetch(\"/api/v1/harvester/virtualmachines/\".concat(namespace));const data=await response.json();setExistingVmNames(data.map(vm=>vm.metadata.name));}catch(err){console.error(\"Failed to fetch VMs in namespace:\",err);}};useEffect(()=>{fetchSources();fetchOvaSources();fetchNamespaces();fetchNetworks();fetchStorageClasses();},[]);useEffect(()=>{fetchVmsInNamespace(targetNamespace);},[targetNamespace]);useEffect(()=>{const nameToCheck=sourceType==='ova'?ovaVmName:selectedVm?selectedVm.name:'';if(nameToCheck&&existingVmNames.includes(nameToCheck)){setVmNameConflict(true);}else{setVmNameConflict(false);}},[selectedVm,ovaVmName,sourceType,existingVmNames]);const handleSourceChange=async sourceIdentifier=>{setSelectedSource(sourceIdentifier);if(!sourceIdentifier){setVcenterInventory(null);return;}if(sourceType==='ova'){return;}const[namespace,name]=sourceIdentifier.split('/');setIsConnecting(true);setConnectionError('');try{const response=await fetch(\"/api/v1/vcenter/inventory/\".concat(namespace,\"/\").concat(name));if(!response.ok){const errData=await response.json();throw new Error(errData.error||\"Failed to fetch inventory\");}const data=await response.json();setVcenterInventory(data);}catch(error){setConnectionError(error.message);}finally{setIsConnecting(false);}};const sourceNetworks=useMemo(()=>{if(!selectedVm)return[];return selectedVm.networks||[];},[selectedVm]);const handleCreateNamespace=async()=>{if(!newNamespace){alert(\"New namespace name cannot be empty.\");return false;}try{const response=await fetch('/api/v1/harvester/namespaces',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({name:newNamespace})});if(!response.ok){const err=await response.json();throw new Error(\"Failed to create namespace: \".concat(err.error));}fetchNamespaces();setTargetNamespace(newNamespace);setNewNamespace('');return true;}catch(error){console.error(error);alert(error.message);return false;}};const handleSubmit=async()=>{let finalTargetNamespace=targetNamespace;if(targetNamespace==='create_new'){const success=await handleCreateNamespace();if(!success)return;finalTargetNamespace=newNamespace;}const[sourceNamespace,sourceName]=selectedSource.split('/');// Construct the plan object\nconst plan={apiVersion:\"migration.harvesterhci.io/v1beta1\",kind:\"VirtualMachineImport\",metadata:{name:planName.toLowerCase().replace(/\\s+/g,'-'),namespace:finalTargetNamespace},spec:{virtualMachineName:sourceType==='ova'?ovaVmName:selectedVm.name,sourceCluster:{name:sourceName,namespace:sourceNamespace,kind:sourceType==='ova'?\"OvaSource\":\"VmwareSource\",apiVersion:\"migration.harvesterhci.io/v1beta1\"},storageClass:storageClass,networkMapping:Object.entries(networkMappings).map(_ref12=>{let[key,value]=_ref12;return{sourceNetwork:key,destinationNetwork:\"\".concat(value),networkInterfaceModel:capabilities.hasAdvancedPower?networkModels[key]||undefined:undefined};}),folder:sourceType==='ova'?undefined:selectedVm===null||selectedVm===void 0?void 0:selectedVm.folder}};// Only attach advanced fields if the cluster supports them\nif(capabilities.hasAdvancedPower){plan.spec.forcePowerOff=forcePowerOff;if(shutdownTimeout){plan.spec.gracefulShutdownTimeoutSeconds=parseInt(shutdownTimeout);}if(defaultModel){plan.spec.defaultNetworkInterfaceModel=defaultModel;}// NEW: Attach v1.6 fields\nplan.spec.skipPreflightChecks=skipPreflight;if(diskBus){plan.spec.defaultDiskBusType=diskBus;}}onCreatePlan(plan);};const renderStepContent=()=>{switch(step){case 1:return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"Select Source & VM\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 flex items-center space-x-6\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"inline-flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",className:\"form-radio text-blue-600\",name:\"sourceType\",value:\"vmware\",checked:sourceType==='vmware',onChange:()=>{setSourceType('vmware');setSelectedSource('');setSelectedVm(null);}}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2\",children:\"VMware vCenter\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"inline-flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",className:\"form-radio text-blue-600\",name:\"sourceType\",value:\"ova\",checked:sourceType==='ova',onChange:()=>{setSourceType('ova');setSelectedSource('');setOvaVmName('');}}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2\",children:\"OVA File\"})]})]}),sourceType==='vmware'?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4 p-4 border rounded-md bg-gray-50\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 flex-grow\",children:\"vCenter Source\"}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchSources,className:\"ml-2 text-blue-500 hover:text-blue-700\",children:/*#__PURE__*/_jsx(RefreshCw,{size:16})})]}),/*#__PURE__*/_jsxs(\"select\",{value:selectedSource,onChange:e=>handleSourceChange(e.target.value),className:\"mt-1 block w-full form-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a source...\"}),vmwareSources.map(source=>/*#__PURE__*/_jsxs(\"option\",{value:\"\".concat(source.metadata.namespace,\"/\").concat(source.metadata.name),children:[source.metadata.namespace,\"/\",source.metadata.name]},source.metadata.uid))]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4 p-4 border rounded-md bg-gray-50\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 flex-grow\",children:\"OVA Source\"}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchOvaSources,className:\"ml-2 text-blue-500 hover:text-blue-700\",children:/*#__PURE__*/_jsx(RefreshCw,{size:16})})]}),/*#__PURE__*/_jsxs(\"select\",{value:selectedSource,onChange:e=>handleSourceChange(e.target.value),className:\"mt-1 block w-full form-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select an OVA source...\"}),ovaSources.map(source=>/*#__PURE__*/_jsxs(\"option\",{value:\"\".concat(source.metadata.namespace,\"/\").concat(source.metadata.name),children:[source.metadata.namespace,\"/\",source.metadata.name]},source.metadata.uid))]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Target VM Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"e.g. My-Imported-OVA\",value:ovaVmName,onChange:e=>setOvaVmName(e.target.value),className:\"mt-1 block w-full form-input\"})]})]}),sourceType==='vmware'&&isConnecting&&/*#__PURE__*/_jsx(Loader,{className:\"animate-spin mt-4\"}),sourceType==='vmware'&&connectionError&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-red-600 mt-2\",children:connectionError}),sourceType==='vmware'&&vcenterInventory&&/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-md p-2 h-96 overflow-y-auto bg-white\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleSourceChange(selectedSource),className:\"text-blue-500 hover:text-blue-700\",children:/*#__PURE__*/_jsx(RefreshCw,{size:16})})}),/*#__PURE__*/_jsx(InventoryTree,{node:vcenterInventory,onVmSelect:setSelectedVm,currentlySelectedVm:selectedVm})]}),/*#__PURE__*/_jsx(VmDetailsPanel,{vm:selectedVm})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-2\",children:sourceType==='ova'?ovaVmName&&selectedSource?'1 VM configured for import.':'Select source and enter VM name.':selectedVm?'1 VM selected for migration.':'0 VMs selected.'})]});case 2:return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"Configuration\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{fetchNamespaces();fetchStorageClasses();},className:\"text-blue-500 hover:text-blue-700\",children:/*#__PURE__*/_jsx(RefreshCw,{size:16})})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-4\",children:\"Define the migration plan details and target resources.\"}),!capabilities.hasAdvancedPower&&capabilities.harvesterVersion&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 p-4 bg-yellow-50 border border-yellow-200 rounded-md flex items-start\",children:[/*#__PURE__*/_jsx(AlertTriangle,{className:\"text-yellow-500 w-5 h-5 mr-2 mt-0.5\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-semibold text-yellow-800\",children:\"Compatibility Mode\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-yellow-700 mt-1\",children:[\"You are connected to Harvester \",/*#__PURE__*/_jsx(\"strong\",{children:capabilities.harvesterVersion}),\". Advanced options (Force Power Off, Interface Models, Disk Bus) require Harvester v1.6.0+ and have been hidden.\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Plan Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:planName,onChange:e=>setPlanName(e.target.value),className:\"mt-1 block w-full form-input\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Target Namespace\"}),/*#__PURE__*/_jsxs(\"select\",{value:targetNamespace,onChange:e=>setTargetNamespace(e.target.value),className:\"mt-1 block w-full form-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a namespace\"}),namespaces.map(ns=>/*#__PURE__*/_jsx(\"option\",{value:ns,children:ns},ns)),/*#__PURE__*/_jsx(\"option\",{value:\"create_new\",children:\"--- Create New Namespace ---\"})]}),targetNamespace==='create_new'&&/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newNamespace,onChange:e=>setNewNamespace(e.target.value),placeholder:\"Enter new namespace name\",className:\"mt-2 block w-full form-input\"}),vmNameConflict&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-red-600 mt-1\",children:[\"A VM with the name \\\"\",selectedVm.name,\"\\\" already exists in this namespace. Please choose a different namespace.\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Target Storage Class\"}),/*#__PURE__*/_jsxs(\"select\",{value:storageClass,onChange:e=>setStorageClass(e.target.value),className:\"mt-1 block w-full form-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a Storage Class\"}),storageClasses.map(sc=>/*#__PURE__*/_jsx(\"option\",{value:sc,children:sc},sc))]})]})]}),capabilities.hasAdvancedPower&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 border-t pt-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-md font-medium text-gray-900 mb-3\",children:\"Advanced Options\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6 bg-gray-50 p-4 rounded-md border\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"forcePowerOff\",type:\"checkbox\",checked:forcePowerOff,onChange:e=>setForcePowerOff(e.target.checked),className:\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"forcePowerOff\",className:\"ml-2 block text-sm text-gray-700\",children:[\"Force Power Off Source VM\",/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-0.5\",children:\"Required if VMware Tools is not installed.\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"skipPreflight\",type:\"checkbox\",checked:skipPreflight,onChange:e=>setSkipPreflight(e.target.checked),className:\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"skipPreflight\",className:\"ml-2 block text-sm text-gray-700\",children:[\"Skip Preflight Checks\",/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-0.5\",children:\"Bypass validation (use with caution).\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Graceful Shutdown Timeout (Seconds)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:shutdownTimeout,onChange:e=>setShutdownTimeout(e.target.value),placeholder:\"e.g. 300\",className:\"mt-1 block w-full form-input text-sm\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Default Network Interface Model\"}),/*#__PURE__*/_jsxs(\"select\",{value:defaultModel,onChange:e=>setDefaultModel(e.target.value),className:\"mt-1 block w-full form-select text-sm\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Auto (Default)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"e1000\",children:\"e1000\"}),/*#__PURE__*/_jsx(\"option\",{value:\"e1000e\",children:\"e1000e\"}),/*#__PURE__*/_jsx(\"option\",{value:\"ne2k_pci\",children:\"ne2k_pci\"}),/*#__PURE__*/_jsx(\"option\",{value:\"pcnet\",children:\"pcnet\"}),/*#__PURE__*/_jsx(\"option\",{value:\"rtl8139\",children:\"rtl8139\"}),/*#__PURE__*/_jsx(\"option\",{value:\"virtio\",children:\"virtio\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Default Disk Bus Type\"}),/*#__PURE__*/_jsxs(\"select\",{value:diskBus,onChange:e=>setDiskBus(e.target.value),className:\"mt-1 block w-full form-select text-sm\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Auto (Default)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"virtio\",children:\"virtio (High Performance)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"scsi\",children:\"scsi\"}),/*#__PURE__*/_jsx(\"option\",{value:\"sata\",children:\"sata\"}),/*#__PURE__*/_jsx(\"option\",{value:\"usb\",children:\"usb\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:\"Specify bus type if automatic detection fails.\"})]})]})]})]});case 3:return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2 flex-grow\",children:\"Network Mapping\"}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchNetworks,className:\"ml-2 text-blue-500 hover:text-blue-700\",children:/*#__PURE__*/_jsx(RefreshCw,{size:16})})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-4\",children:\"Map source networks to target Harvester networks.\"}),harvesterNetworks.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"No VLANs defined in Harvester.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:sourceNetworks.map(net=>/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-12 gap-4 items-center border-b pb-4 mb-2 last:border-0 last:pb-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-4 font-mono text-sm text-gray-800 break-all flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-200 text-gray-600 px-2 py-1 rounded text-xs mr-2\",children:\"Source\"}),net]}),/*#__PURE__*/_jsx(\"div\",{className:\"md:col-span-1 text-center hidden md:block\",children:/*#__PURE__*/_jsx(ArrowRight,{className:\"mx-auto text-gray-400\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"md:col-span-4\",children:/*#__PURE__*/_jsxs(\"select\",{onChange:e=>setNetworkMappings(prev=>_objectSpread(_objectSpread({},prev),{},{[net]:e.target.value})),className:\"form-select w-full text-sm\",children:[/*#__PURE__*/_jsx(\"option\",{children:\"Select Harvester Network\"}),harvesterNetworks.map(hnet=>/*#__PURE__*/_jsx(\"option\",{value:hnet,children:hnet},hnet))]})}),capabilities.hasAdvancedPower&&/*#__PURE__*/_jsx(\"div\",{className:\"md:col-span-3\",children:/*#__PURE__*/_jsxs(\"select\",{onChange:e=>setNetworkModels(prev=>_objectSpread(_objectSpread({},prev),{},{[net]:e.target.value})),className:\"form-select w-full text-sm text-gray-600\",title:\"Specific Interface Model\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Default Model\"}),/*#__PURE__*/_jsx(\"option\",{value:\"e1000\",children:\"e1000\"}),/*#__PURE__*/_jsx(\"option\",{value:\"e1000e\",children:\"e1000e\"}),/*#__PURE__*/_jsx(\"option\",{value:\"ne2k_pci\",children:\"ne2k_pci\"}),/*#__PURE__*/_jsx(\"option\",{value:\"pcnet\",children:\"pcnet\"}),/*#__PURE__*/_jsx(\"option\",{value:\"rtl8139\",children:\"rtl8139\"}),/*#__PURE__*/_jsx(\"option\",{value:\"virtio\",children:\"virtio\"})]})})]},net))})]});case 4:return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"Review Plan\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Plan Name:\"}),\" \",planName]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Destination VM Name:\"}),\" \",selectedVm.name]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Target Namespace:\"}),\" \",targetNamespace==='create_new'?\"\".concat(newNamespace,\" (new)\"):targetNamespace]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Storage Class:\"}),\" \",storageClass]}),capabilities.hasAdvancedPower&&(forcePowerOff||shutdownTimeout||defaultModel||skipPreflight||diskBus)&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 p-2 bg-yellow-50 rounded border border-yellow-100\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-yellow-800\",children:\"Advanced Settings:\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"list-disc list-inside pl-2 text-yellow-800\",children:[forcePowerOff&&/*#__PURE__*/_jsx(\"li\",{children:\"Force Power Off: Enabled\"}),shutdownTimeout&&/*#__PURE__*/_jsxs(\"li\",{children:[\"Shutdown Timeout: \",shutdownTimeout,\"s\"]}),defaultModel&&/*#__PURE__*/_jsxs(\"li\",{children:[\"Default Interface: \",defaultModel]}),skipPreflight&&/*#__PURE__*/_jsx(\"li\",{children:\"Skip Validation: Yes\"}),diskBus&&/*#__PURE__*/_jsxs(\"li\",{children:[\"Disk Bus: \",diskBus]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium mt-2\",children:\"VM to Migrate:\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-disc list-inside pl-4\",children:/*#__PURE__*/_jsxs(\"li\",{children:[selectedVm===null||selectedVm===void 0?void 0:selectedVm.name,\" \",/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-500 text-xs\",children:[\"(Folder: \",(selectedVm===null||selectedVm===void 0?void 0:selectedVm.folder)||'/',\")\"]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium mt-2\",children:\"Network Mappings:\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-disc list-inside pl-4\",children:Object.entries(networkMappings).map(_ref13=>{let[key,value]=_ref13;return/*#__PURE__*/_jsxs(\"li\",{children:[key,\" \\u2192 \",value,capabilities.hasAdvancedPower&&networkModels[key]&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-gray-500 ml-2\",children:[\"[\",networkModels[key],\"]\"]})]},key);})})]})]})]});default:return null;}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{title:\"Create Migration Plan\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-6 shadow-md rounded-lg\",children:renderStepContent()}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 flex justify-between\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:onCancel,className:\"bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-4 rounded-md\",children:\"Cancel\"}),/*#__PURE__*/_jsxs(\"div\",{children:[step>1&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setStep(s=>s-1),className:\"bg-gray-500 hover:bg-gray-600 text-white font-semibold py-2 px-4 rounded-md mr-2\",children:\"Back\"}),step<4&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setStep(s=>s+1),disabled:vmNameConflict,className:\"bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded-md disabled:opacity-50\",children:\"Next\"}),step===4&&/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,className:\"bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded-md\",children:\"Create Plan\"})]})]})]});};const AboutPage=()=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-800\",children:\"About VM Import UI\"}),/*#__PURE__*/_jsx(\"img\",{src:\"/logo-stacked-harvester.svg\",alt:\"Harvester Logo\",className:\"h-32 w-32\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow-md rounded-lg p-6 relative overflow-hidden\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"https://github.com/doccaz/vm-import-ui\",target:\"_blank\",rel:\"noopener noreferrer\",\"aria-label\":\"View source on GitHub\",className:\"fixed top-0 right-0 z-50\",children:/*#__PURE__*/_jsxs(\"svg\",{width:\"80\",height:\"80\",viewBox:\"0 0 250 250\",style:{fill:'#151513',color:'#fff',position:'absolute',top:0,border:0,right:0},\"aria-hidden\":\"true\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2\",fill:\"currentColor\",style:{transformOrigin:'130px 106px'},className:\"octo-arm\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z\",fill:\"currentColor\",className:\"octo-body\"})]})}),/*#__PURE__*/_jsx(\"style\",{children:\".github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-4 z-10 relative\",children:\"Harvester VM Import UI\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"mb-2 z-10 relative\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Version:\"}),\" 1.1.0\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-2 z-10 relative\",children:\"This UI provides a user-friendly interface for the Harvester VM Import Controller, allowing users to import virtual machines from a VMware vCenter into a Harvester cluster.\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-6 italic text-sm text-gray-600 z-10 relative mt-2 border-l-4 border-blue-400 pl-3\",children:\"Based off of an idea by Erico Mendonca (erico.mendonca@suse.com)\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-3 z-10 relative\",children:\"How to Use\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4 z-10 relative text-gray-700\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-semibold text-gray-800 flex items-center mb-1\",children:[/*#__PURE__*/_jsx(List,{size:16,className:\"mr-1 text-blue-600\"}),\" Migration Plans Tab\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm\",children:[\"This is your primary dashboard for managing imports. Once you have configured a source (vCenter or OVA), click \",/*#__PURE__*/_jsx(\"strong\",{children:\"Create\"}),\" to launch the Migration Plan Wizard. The wizard will guide you through:\"]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"list-disc list-inside text-sm mt-1 ml-2 space-y-1\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"Selecting your pre-configured source type (VMware vs. OVA).\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Choosing the specific Virtual Machine to import (via vCenter inventory tree or by specifying the OVA VM name).\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Configuring target execution parameters like Namespace and Storage Class.\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Mapping source networks to Harvester VLANs and specifying advanced interfaces (e.g., virtio, e1000).\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm mt-1\",children:\"From the dashboard, you can track the live progress, examine the raw YAML configuration, and view backend logs for each migration.\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-semibold text-gray-800 flex items-center mb-1\",children:[/*#__PURE__*/_jsx(Server,{size:16,className:\"mr-1 text-blue-600\"}),\" vCenter Sources Tab\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm\",children:[\"Before migrating VMs from VMware, you must register the vCenter instance here. Click \",/*#__PURE__*/_jsx(\"strong\",{children:\"Create\"}),\" and provide:\"]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"list-disc list-inside text-sm mt-1 ml-2 space-y-1\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"The vCenter Endpoint URL and Datacenter Name.\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Credentials (Username/Password), which are securely stored as Kubernetes Secrets.\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm mt-1\",children:\"You can edit these configurations or delete them (which concurrently deletes the stored credential Secret).\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-semibold text-gray-800 flex items-center mb-1\",children:[/*#__PURE__*/_jsx(Package,{size:16,className:\"mr-1 text-blue-600\"}),\" OVA Sources Tab\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm\",children:[\"Use this tab to define HTTP/HTTPS endpoints serving Open Virtual Appliance (.ova) files. Click \",/*#__PURE__*/_jsx(\"strong\",{children:\"Create\"}),\" to add an OVA source, specifying:\"]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"list-disc list-inside text-sm mt-1 ml-2 space-y-1\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"The Download URL for the OVA file.\"}),/*#__PURE__*/_jsx(\"li\",{children:\"An optional HTTP Timeout limit.\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Optional Username and Password for authenticated endpoints (stored securely).\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-semibold text-gray-800 flex items-center mb-1\",children:[/*#__PURE__*/_jsx(Info,{size:16,className:\"mr-1 text-blue-600\"}),\" About Tab\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:\"You are here! This tab provides application versioning, attribution, frontend GitHub links, and basic documentation on how to navigate the utility.\"})]})]})]})]});export default function App(){const[page,setPage]=useState('plans');// 'plans', 'sources', 'about'\nconst[plans,setPlans]=useState([]);const[sources,setSources]=useState([]);const[isLoading,setIsLoading]=useState(true);const[selectedPlan,setSelectedPlan]=useState(null);const[selectedSource,setSelectedSource]=useState(null);const[planToDelete,setPlanToDelete]=useState(null);const[sourceToEdit,setSourceToEdit]=useState(null);const[sourceToDelete,setSourceToDelete]=useState(null);const[showSourceWizard,setShowSourceWizard]=useState(false);const[refreshInterval,setRefreshInterval]=useState(10);const[ovaSources,setOvaSources]=useState([]);const[showOvaSourceWizard,setShowOvaSourceWizard]=useState(false);const[ovaSourceToEdit,setOvaSourceToEdit]=useState(null);const[ovaSourceToDelete,setOvaSourceToDelete]=useState(null);const[selectedOvaSource,setSelectedOvaSource]=useState(null);// NEW: Capability State\nconst[capabilities,setCapabilities]=useState({harvesterVersion:'',hasAdvancedPower:false});// NEW: Fetch Capabilities on Mount\nuseEffect(()=>{fetch('/api/v1/capabilities').then(res=>res.json()).then(data=>{console.log(\"Cluster Capabilities:\",data);setCapabilities(data);}).catch(err=>console.error(\"Failed to fetch capabilities:\",err));},[]);const fetchPlans=async()=>{setIsLoading(true);try{const response=await fetch('/api/v1/plans');if(!response.ok){const errData=await response.json();throw new Error(errData.error||\"Failed to fetch plans\");}const data=await response.json();setPlans(data||[]);}catch(err){console.error(\"Failed to fetch plans:\",err);// alert(`Error fetching plans: ${err.message}`);\nsetPlans([]);// Ensure plans is an array on error\n}finally{setIsLoading(false);}};const fetchSources=async()=>{try{const response=await fetch('/api/v1/harvester/vmwaresources');if(!response.ok){const errData=await response.json();throw new Error(errData.error||\"Failed to fetch sources\");}const data=await response.json();setSources(data||[]);}catch(err){console.error(\"Failed to fetch sources:\",err);// alert(`Error fetching sources: ${err.message}`);\n}};const fetchOvaSources=async()=>{try{const response=await fetch('/api/v1/harvester/ovasources');if(!response.ok){const errData=await response.json();throw new Error(errData.error||\"Failed to fetch OVA sources\");}const data=await response.json();setOvaSources(data||[]);}catch(err){console.error(\"Failed to fetch OVA sources:\",err);// alert(`Error fetching OVA sources: ${err.message}`);\n}};useEffect(()=>{fetchPlans();fetchSources();fetchOvaSources();const intervalId=setInterval(fetchPlans,refreshInterval*1000);return()=>clearInterval(intervalId);},[refreshInterval]);const handleCreatePlan=async planPayload=>{try{const response=await fetch('/api/v1/plans',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(planPayload)});if(!response.ok){const errData=await response.json();throw new Error(errData.error||\"Failed to create plan\");}await response.json();fetchPlans();// Refresh the list\nsetPage('plans');}catch(err){console.error(\"Failed to create plan:\",err);alert(\"Error creating plan: \".concat(err.message));}};const handleDeletePlan=async()=>{if(!planToDelete)return;try{await fetch(\"/api/v1/plans/\".concat(planToDelete.metadata.namespace,\"/\").concat(planToDelete.metadata.name),{method:'DELETE'});fetchPlans();// Refresh the list\nsetPlanToDelete(null);// Close the modal\n}catch(err){console.error(\"Failed to delete plan:\",err);}};const handleSaveSource=async(payload,isEdit)=>{const url=isEdit?\"/api/v1/harvester/vmwaresources/\".concat(payload.namespace,\"/\").concat(payload.name):'/api/v1/harvester/vmwaresources';const method=isEdit?'PUT':'POST';try{const response=await fetch(url,{method:method,headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)});if(!response.ok){const errData=await response.json();throw new Error(errData.error||\"Failed to \".concat(isEdit?'update':'create',\" source\"));}fetchSources();setShowSourceWizard(false);setSourceToEdit(null);}catch(err){console.error(\"Failed to save source:\",err);alert(\"Error saving source: \".concat(err.message));}};const handleDeleteSource=async()=>{if(!sourceToDelete)return;try{await fetch(\"/api/v1/harvester/vmwaresources/\".concat(sourceToDelete.metadata.namespace,\"/\").concat(sourceToDelete.metadata.name),{method:'DELETE'});fetchSources();setSourceToDelete(null);}catch(err){console.error(\"Failed to delete source:\",err);}};const handleSaveOvaSource=async(payload,isEdit)=>{const url=isEdit?\"/api/v1/harvester/ovasources/\".concat(payload.namespace,\"/\").concat(payload.name):'/api/v1/harvester/ovasources';const method=isEdit?'PUT':'POST';try{const response=await fetch(url,{method:method,headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)});if(!response.ok){const errData=await response.json();throw new Error(errData.error||\"Failed to \".concat(isEdit?'update':'create',\" OVA source\"));}fetchOvaSources();setShowOvaSourceWizard(false);setOvaSourceToEdit(null);}catch(err){console.error(\"Failed to save OVA source:\",err);alert(\"Error saving OVA source: \".concat(err.message));}};const handleDeleteOvaSource=async()=>{if(!ovaSourceToDelete)return;try{await fetch(\"/api/v1/harvester/ovasources/\".concat(ovaSourceToDelete.metadata.namespace,\"/\").concat(ovaSourceToDelete.metadata.name),{method:'DELETE'});fetchOvaSources();setOvaSourceToDelete(null);}catch(err){console.error(\"Failed to delete OVA source:\",err);}};const handleViewDetails=plan=>{const detailedPlan=_objectSpread(_objectSpread({},plan),{},{name:plan.metadata.name,// Mock data for VM spec if it's missing in the list view return\nvms:[{name:plan.spec.virtualMachineName,status:getPlanStatus(plan),progress:0,cpu:2,memoryMB:2048,diskSizeGB:50}]});setSelectedPlan(detailedPlan);setPage('planDetails');};const handleEditSource=async source=>{try{const response=await fetch(\"/api/v1/harvester/vmwaresources/\".concat(source.metadata.namespace,\"/\").concat(source.metadata.name));if(!response.ok){const errData=await response.json();throw new Error(errData.error||\"Failed to fetch source details\");}const data=await response.json();setSourceToEdit(data);setShowSourceWizard(true);}catch(err){console.error(\"Failed to fetch source details:\",err);alert(\"Error fetching source details: \".concat(err.message));}};const handleEditOvaSource=async source=>{try{const response=await fetch(\"/api/v1/harvester/ovasources/\".concat(source.metadata.namespace,\"/\").concat(source.metadata.name));if(!response.ok){const errData=await response.json();throw new Error(errData.error||\"Failed to fetch OVA source details\");}const data=await response.json();setOvaSourceToEdit(data);setShowOvaSourceWizard(true);}catch(err){console.error(\"Failed to fetch OVA source details:\",err);alert(\"Error fetching OVA source details: \".concat(err.message));}};const renderPage=()=>{switch(page){case'createPlan':return/*#__PURE__*/_jsx(CreatePlanWizard,{onCancel:()=>setPage('plans'),onCreatePlan:handleCreatePlan,capabilities:capabilities});case'planDetails':return/*#__PURE__*/_jsx(PlanDetails,{plan:selectedPlan,onClose:()=>setPage('plans')});case'sourceDetails':return/*#__PURE__*/_jsx(SourceDetails,{source:selectedSource,onClose:()=>setPage('sources')});case'sources':return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{title:\"vCenter Sources\",onButtonClick:()=>{setSourceToEdit(null);setShowSourceWizard(true);}}),/*#__PURE__*/_jsx(SourcesTable,{sources:sources,onEdit:handleEditSource,onDelete:setSourceToDelete,onViewDetails:source=>{setSelectedSource(source);setPage('sourceDetails');}})]});case'ovaSourceDetails':return/*#__PURE__*/_jsx(OvaSourceDetails,{source:selectedOvaSource,onClose:()=>setPage('ovaSources')});case'ovaSources':return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{title:\"OVA Sources\",onButtonClick:()=>{setOvaSourceToEdit(null);setShowOvaSourceWizard(true);}}),/*#__PURE__*/_jsx(OvaSourcesTable,{sources:ovaSources,onEdit:handleEditOvaSource,onDelete:setOvaSourceToDelete,onViewDetails:source=>{setSelectedOvaSource(source);setPage('ovaSourceDetails');}})]});case'about':return/*#__PURE__*/_jsx(AboutPage,{});case'plans':default:return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{title:\"VM Migration Plans\",onButtonClick:()=>setPage('createPlan')}),isLoading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading plans...\"}):/*#__PURE__*/_jsx(ResourceTable,{plans:plans,onViewDetails:handleViewDetails,onDelete:setPlanToDelete}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end items-center mt-4 space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:fetchPlans,className:\"text-blue-500 hover:text-blue-700\",children:/*#__PURE__*/_jsx(RefreshCw,{size:20})}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:refreshInterval,onChange:e=>setRefreshInterval(e.target.value),className:\"w-20 form-input text-sm\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"seconds\"})]})]});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-100 min-h-screen p-8 font-sans\",children:[/*#__PURE__*/_jsxs(\"nav\",{className:\"mb-6 border-b flex space-x-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setPage('plans'),className:\"px-4 py-2 flex items-center font-medium transition-colors \".concat(page==='plans'?'border-b-2 border-blue-500 text-blue-600':'text-gray-600 hover:text-gray-800'),children:[/*#__PURE__*/_jsx(List,{size:18,className:\"mr-2\"}),\" Migration Plans\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setPage('sources'),className:\"px-4 py-2 flex items-center font-medium transition-colors \".concat(page==='sources'?'border-b-2 border-blue-500 text-blue-600':'text-gray-600 hover:text-gray-800'),children:[/*#__PURE__*/_jsx(Server,{size:18,className:\"mr-2\"}),\" vCenter Sources\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setPage('ovaSources'),className:\"px-4 py-2 flex items-center font-medium transition-colors \".concat(page==='ovaSources'?'border-b-2 border-blue-500 text-blue-600':'text-gray-600 hover:text-gray-800'),children:[/*#__PURE__*/_jsx(Package,{size:18,className:\"mr-2\"}),\" OVA Sources\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setPage('about'),className:\"px-4 py-2 flex items-center font-medium transition-colors \".concat(page==='about'?'border-b-2 border-blue-500 text-blue-600':'text-gray-600 hover:text-gray-800'),children:[/*#__PURE__*/_jsx(Info,{size:18,className:\"mr-2\"}),\" About\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto\",children:renderPage()}),showSourceWizard&&/*#__PURE__*/_jsx(SourceWizard,{onCancel:()=>{setShowSourceWizard(false);setSourceToEdit(null);},onSave:handleSaveSource,source:sourceToEdit}),showOvaSourceWizard&&/*#__PURE__*/_jsx(OvaSourceWizard,{onCancel:()=>{setShowOvaSourceWizard(false);setOvaSourceToEdit(null);},onSave:handleSaveOvaSource,source:ovaSourceToEdit}),planToDelete&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center p-4 z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-xl p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold\",children:\"Confirm Deletion\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"my-4\",children:[\"Are you sure you want to delete the plan \\\"\",planToDelete.metadata.name,\"\\\"?\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setPlanToDelete(null),className:\"bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-4 rounded-md\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDeletePlan,className:\"bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded-md\",children:\"Delete\"})]})]})}),sourceToDelete&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center p-4 z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-xl p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold\",children:\"Confirm Deletion\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"my-4\",children:[\"Are you sure you want to delete the vCenter source \\\"\",sourceToDelete.metadata.name,\"\\\"? This will also delete the associated credentials secret.\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSourceToDelete(null),className:\"bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-4 rounded-md\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDeleteSource,className:\"bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded-md\",children:\"Delete\"})]})]})}),ovaSourceToDelete&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center p-4 z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-xl p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold\",children:\"Confirm Deletion\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"my-4\",children:[\"Are you sure you want to delete the OVA source \\\"\",ovaSourceToDelete.metadata.name,\"\\\"? This will also delete the associated credentials secret.\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setOvaSourceToDelete(null),className:\"bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-4 rounded-md\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDeleteOvaSource,className:\"bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded-md\",children:\"Delete\"})]})]})})]});}","map":{"version":3,"names":["React","useState","useEffect","useMemo","Plus","ChevronRight","Server","Folder","Cloud","HardDrive","ArrowRight","X","Loader","CheckCircle","Clock","Cpu","MemoryStick","Trash2","Edit","AlertTriangle","RefreshCw","List","Package","Info","jsx","_jsx","jsxs","_jsxs","formatBytes","bytes","decimals","arguments","length","undefined","k","dm","sizes","i","Math","floor","log","parseFloat","pow","toFixed","formatSeconds","seconds","Infinity","isNaN","d","h","m","s","concat","Header","_ref","title","onButtonClick","className","children","onClick","size","getPlanStatus","plan","_plan$status","_plan$status2","_plan$status2$conditi","_plan$status2$conditi2","status","importStatus","conditions","type","ResourceTable","_ref2","plans","onViewDetails","onDelete","colSpan","map","metadata","name","spec","virtualMachineName","namespace","storageClass","uid","SourcesTable","_ref3","sources","onEdit","source","endpoint","SourceWizard","_ref4","onCancel","onSave","setName","setNamespace","setEndpoint","datacenter","setDatacenter","username","setUsername","password","setPassword","isEditMode","dc","handleSubmit","payload","value","onChange","e","target","disabled","placeholder","SourceDetails","_ref5","onClose","yamlContent","setYamlContent","showYaml","setShowYaml","isLoadingYaml","setIsLoadingYaml","fetchYaml","response","fetch","data","text","err","handleShowYaml","credentials","OvaSourcesTable","_ref6","url","OvaSourceWizard","_ref7","setUrl","httpTimeoutSeconds","setHttpTimeoutSeconds","parseInt","OvaSourceDetails","_ref8","PlanDetails","_ref9","_plan$vms","_plan$vms$","_plan$vms2","_plan$vms2$","_plan$vms3","_plan$vms3$","_plan$spec","_plan$spec2","_plan$spec3","_plan$spec3$sourceClu","_plan$spec4","_plan$spec4$sourceClu","_plan$spec5","_plan$spec6","_plan$spec7","_plan$spec8","_plan$spec9","_plan$spec0","logs","setLogs","showDebug","setShowDebug","isLoadingDebug","setIsLoadingDebug","fetchLogs","handleShowDebug","vms","cpu","memoryMB","diskSizeGB","folder","sourceCluster","forcePowerOff","gracefulShutdownTimeoutSeconds","defaultNetworkInterfaceModel","skipPreflightChecks","defaultDiskBusType","VmIcon","_ref0","InventoryTree","_ref1","node","onVmSelect","currentlySelectedVm","level","isOpen","setIsOpen","isParent","handleNodeClick","style","paddingLeft","child","index","VmDetailsPanel","_ref10","vm","networks","net","CreatePlanWizard","_ref11","onCreatePlan","capabilities","step","setStep","sourceType","setSourceType","vmwareSources","setVmwareSources","ovaSources","setOvaSources","selectedSource","setSelectedSource","vcenterInventory","setVcenterInventory","isConnecting","setIsConnecting","connectionError","setConnectionError","selectedVm","setSelectedVm","planName","setPlanName","targetNamespace","setTargetNamespace","newNamespace","setNewNamespace","namespaces","setNamespaces","existingVmNames","setExistingVmNames","vmNameConflict","setVmNameConflict","ovaVmName","setOvaVmName","networkMappings","setNetworkMappings","networkModels","setNetworkModels","harvesterNetworks","setHarvesterNetworks","setStorageClass","storageClasses","setStorageClasses","setForcePowerOff","shutdownTimeout","setShutdownTimeout","defaultModel","setDefaultModel","skipPreflight","setSkipPreflight","diskBus","setDiskBus","fetchNamespaces","then","res","json","ns","catch","console","error","fetchSources","fetchOvaSources","fetchNetworks","fetchStorageClasses","sc","fetchVmsInNamespace","nameToCheck","includes","handleSourceChange","sourceIdentifier","split","ok","errData","Error","message","sourceNetworks","handleCreateNamespace","alert","method","headers","body","JSON","stringify","finalTargetNamespace","success","sourceNamespace","sourceName","apiVersion","kind","toLowerCase","replace","networkMapping","Object","entries","_ref12","key","sourceNetwork","destinationNetwork","networkInterfaceModel","hasAdvancedPower","renderStepContent","checked","harvesterVersion","id","htmlFor","prev","_objectSpread","hnet","_ref13","AboutPage","src","alt","href","rel","width","height","viewBox","fill","color","position","top","border","right","transformOrigin","App","page","setPage","setPlans","setSources","isLoading","setIsLoading","selectedPlan","setSelectedPlan","planToDelete","setPlanToDelete","sourceToEdit","setSourceToEdit","sourceToDelete","setSourceToDelete","showSourceWizard","setShowSourceWizard","refreshInterval","setRefreshInterval","showOvaSourceWizard","setShowOvaSourceWizard","ovaSourceToEdit","setOvaSourceToEdit","ovaSourceToDelete","setOvaSourceToDelete","selectedOvaSource","setSelectedOvaSource","setCapabilities","fetchPlans","intervalId","setInterval","clearInterval","handleCreatePlan","planPayload","handleDeletePlan","handleSaveSource","isEdit","handleDeleteSource","handleSaveOvaSource","handleDeleteOvaSource","handleViewDetails","detailedPlan","progress","handleEditSource","handleEditOvaSource","renderPage"],"sources":["/home/erico/Projetos/vm-import-ui/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\nimport { Plus, ChevronRight, Server, Folder, Cloud, HardDrive, ArrowRight, X, Loader, CheckCircle, Clock, Cpu, MemoryStick, Trash2, Edit, AlertTriangle, RefreshCw, List, Package, Info } from 'lucide-react';\n\n// --- Helper Functions ---\nconst formatBytes = (bytes, decimals = 2) => {\n    if (!bytes || bytes === 0) return '0 Bytes';\n    const k = 1024;\n    const dm = decimals < 0 ? 0 : decimals;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\n};\n\nconst formatSeconds = (seconds) => {\n    if (seconds === Infinity || isNaN(seconds) || seconds < 0) return '...';\n    const d = Math.floor(seconds / (3600 * 24));\n    const h = Math.floor(seconds % (3600 * 24) / 3600);\n    const m = Math.floor(seconds % 3600 / 60);\n    const s = Math.floor(seconds % 60);\n\n    if (d > 0) return `${d}d ${h}h`;\n    if (h > 0) return `${h}h ${m}m`;\n    if (m > 0) return `${m}m ${s}s`;\n    return `${s}s`;\n};\n\n// --- Components ---\nconst Header = ({ title, onButtonClick }) => (\n    <div className=\"flex justify-between items-center mb-6 pb-4 border-b border-gray-200\">\n        <h1 className=\"text-2xl font-semibold text-gray-800\">{title}</h1>\n        {onButtonClick && (\n            <button onClick={onButtonClick} className=\"flex items-center bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded-md shadow\">\n                <Plus size={20} className=\"mr-2\" />\n                Create\n            </button>\n        )}\n    </div>\n);\n\nconst getPlanStatus = (plan) => {\n    if (plan.status?.importStatus) {\n        return plan.status.importStatus;\n    }\n    if (plan.status?.conditions?.[0]?.type) {\n        return plan.status.conditions[0].type;\n    }\n    return 'Pending';\n};\n\nconst ResourceTable = ({ plans, onViewDetails, onDelete }) => (\n    <div className=\"bg-white shadow-md rounded-lg overflow-hidden\">\n        <table className=\"min-w-full divide-y divide-gray-200\">\n            <thead className=\"bg-gray-50\">\n                <tr>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Name</th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Status</th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">VM Name</th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Target Namespace</th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Storage Class</th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"></th>\n                </tr>\n            </thead>\n            <tbody className=\"bg-white divide-y divide-gray-200\">\n                {plans.length === 0 ? (\n                    <tr>\n                        <td colSpan=\"6\" className=\"px-6 py-4 text-center text-sm text-gray-500\">No migration plans found.</td>\n                    </tr>\n                ) : (\n                    plans.map(plan => (\n                        <tr key={plan.metadata.uid} className=\"hover:bg-gray-50\">\n                            <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">{plan.metadata.name}</td>\n                            <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">{getPlanStatus(plan)}</td>\n                            <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">{plan.spec.virtualMachineName}</td>\n                            <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">{plan.metadata.namespace}</td>\n                            <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">{plan.spec.storageClass}</td>\n                            <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2\">\n                                <button onClick={() => { }} title=\"Edit\" className=\"text-gray-600 hover:text-gray-800 cursor-not-allowed\"><Edit size={18} /></button>\n                                <button onClick={() => onDelete(plan)} title=\"Delete\" className=\"text-red-600 hover:text-red-800\"><Trash2 size={18} /></button>\n                                <button onClick={() => onViewDetails(plan)} className=\"text-blue-600 hover:text-blue-800\">Details</button>\n                            </td>\n                        </tr>\n                    ))\n                )}\n            </tbody>\n        </table>\n    </div>\n);\n\nconst SourcesTable = ({ sources, onEdit, onDelete, onViewDetails }) => (\n    <div className=\"bg-white shadow-md rounded-lg overflow-hidden\">\n        <table className=\"min-w-full divide-y divide-gray-200\">\n            <thead className=\"bg-gray-50\">\n                <tr>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Name</th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Namespace</th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Endpoint</th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"></th>\n                </tr>\n            </thead>\n            <tbody className=\"bg-white divide-y divide-gray-200\">\n                {sources.length === 0 ? (\n                    <tr>\n                        <td colSpan=\"4\" className=\"px-6 py-4 text-center text-sm text-gray-500\">No vCenter sources found.</td>\n                    </tr>\n                ) : (\n                    sources.map(source => (\n                        <tr key={source.metadata.uid} className=\"hover:bg-gray-50\">\n                            <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">{source.metadata.name}</td>\n                            <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">{source.metadata.namespace}</td>\n                            <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">{source.spec.endpoint}</td>\n                            <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2\">\n                                <button onClick={() => onEdit(source)} title=\"Edit\" className=\"text-blue-600 hover:text-blue-800\"><Edit size={18} /></button>\n                                <button onClick={() => onDelete(source)} title=\"Delete\" className=\"text-red-600 hover:text-red-800\"><Trash2 size={18} /></button>\n                                <button onClick={() => onViewDetails(source)} className=\"text-blue-600 hover:text-blue-800\">Details</button>\n                            </td>\n                        </tr>\n                    ))\n                )}\n            </tbody>\n        </table>\n    </div>\n);\n\nconst SourceWizard = ({ onCancel, onSave, source }) => {\n    const [name, setName] = useState('');\n    const [namespace, setNamespace] = useState('default');\n    const [endpoint, setEndpoint] = useState('');\n    const [datacenter, setDatacenter] = useState('');\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n    const isEditMode = !!source;\n\n    useEffect(() => {\n        if (isEditMode) {\n            setName(source.metadata.name);\n            setNamespace(source.metadata.namespace);\n            setEndpoint(source.spec.endpoint);\n            setDatacenter(source.spec.dc);\n            setUsername(source.spec.username || '');\n        }\n    }, [source, isEditMode]);\n\n    const handleSubmit = () => {\n        const payload = { name, namespace, endpoint, datacenter, username, password };\n        onSave(payload, isEditMode);\n    };\n\n    return (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center p-4 z-50\">\n            <div className=\"bg-white rounded-lg shadow-xl w-full max-w-lg\">\n                <div className=\"p-4 border-b\">\n                    <h2 className=\"text-xl font-semibold\">{isEditMode ? 'Edit' : 'Create'} vCenter Source</h2>\n                </div>\n                <div className=\"p-6 space-y-4\">\n                    <div>\n                        <label className=\"block text-sm font-medium text-gray-700\">Name</label>\n                        <input type=\"text\" value={name} onChange={e => setName(e.target.value)} disabled={isEditMode} className=\"mt-1 block w-full form-input disabled:bg-gray-200\" />\n                    </div>\n                    <div>\n                        <label className=\"block text-sm font-medium text-gray-700\">Namespace</label>\n                        <input type=\"text\" value={namespace} onChange={e => setNamespace(e.target.value)} disabled={isEditMode} className=\"mt-1 block w-full form-input disabled:bg-gray-200\" />\n                    </div>\n                    <div>\n                        <label className=\"block text-sm font-medium text-gray-700\">vCenter Endpoint URL</label>\n                        <input type=\"text\" placeholder=\"https://vcenter.your-domain.com/sdk\" value={endpoint} onChange={e => setEndpoint(e.target.value)} className=\"mt-1 block w-full form-input\" />\n                    </div>\n                    <div>\n                        <label className=\"block text-sm font-medium text-gray-700\">Datacenter Name</label>\n                        <input type=\"text\" value={datacenter} onChange={e => setDatacenter(e.target.value)} className=\"mt-1 block w-full form-input\" />\n                    </div>\n                    <div>\n                        <label className=\"block text-sm font-medium text-gray-700\">Username</label>\n                        <input type=\"text\" value={username} onChange={e => setUsername(e.target.value)} className=\"mt-1 block w-full form-input\" />\n                    </div>\n                    <div>\n                        <label className=\"block text-sm font-medium text-gray-700\">Password</label>\n                        <input type=\"password\" value={password} onChange={e => setPassword(e.target.value)} className=\"mt-1 block w-full form-input\" placeholder={isEditMode ? \"Leave blank to keep existing password\" : \"\"} />\n                    </div>\n                </div>\n                <div className=\"p-4 border-t flex justify-end space-x-2\">\n                    <button onClick={onCancel} className=\"bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-4 rounded-md\">Cancel</button>\n                    <button onClick={handleSubmit} className=\"bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded-md\">Save</button>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nconst SourceDetails = ({ source, onClose }) => {\n    const [yamlContent, setYamlContent] = useState('');\n    const [showYaml, setShowYaml] = useState(false);\n    const [isLoadingYaml, setIsLoadingYaml] = useState(false);\n\n    const fetchYaml = async () => {\n        setIsLoadingYaml(true);\n        try {\n            const response = await fetch(`/api/v1/harvester/vmwaresources/${source.metadata.namespace}/${source.metadata.name}/yaml`);\n            const data = await response.text();\n            setYamlContent(data || \"Could not generate YAML.\");\n        } catch (err) {\n            setYamlContent(\"Failed to fetch YAML.\");\n        } finally {\n            setIsLoadingYaml(false);\n        }\n    };\n\n    const handleShowYaml = () => {\n        if (showYaml) {\n            setShowYaml(false);\n        } else {\n            setShowYaml(true);\n            fetchYaml();\n        }\n    };\n\n    return (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center p-4 z-50\">\n            <div className=\"bg-white rounded-lg shadow-xl w-full max-w-2xl flex flex-col max-h-[90vh]\">\n                <div className=\"flex justify-between items-center p-4 border-b\">\n                    <h2 className=\"text-xl font-semibold text-gray-800\">{source.metadata.name}</h2>\n                    <button onClick={onClose} className=\"p-2 rounded-full hover:bg-gray-200\">\n                        <X size={20} />\n                    </button>\n                </div>\n                <div className=\"p-6 space-y-6 overflow-y-auto\">\n                    <div>\n                        <h3 className=\"text-lg font-medium text-gray-900 mb-2\">Source Summary</h3>\n                        <div className=\"p-3 bg-gray-50 rounded-md border text-sm space-y-1\">\n                            <p><strong>Endpoint:</strong> {source.spec.endpoint}</p>\n                            <p><strong>Datacenter:</strong> {source.spec.dc}</p>\n                            <p><strong>Credentials Secret:</strong> {source.spec.credentials.namespace}/{source.spec.credentials.name}</p>\n                        </div>\n                    </div>\n                    <div>\n                        <button onClick={handleShowYaml} className=\"text-sm text-blue-600 hover:underline\">\n                            {showYaml ? 'Hide' : 'View'} YAML\n                        </button>\n                        {showYaml && (\n                            <div className=\"mt-2 p-2 border rounded-md bg-gray-900 text-white font-mono text-xs max-h-64 overflow-y-auto\">\n                                <pre>{isLoadingYaml ? 'Loading...' : yamlContent}</pre>\n                            </div>\n                        )}\n                    </div>\n                </div>\n                <div className=\"p-4 border-t bg-gray-50 text-right rounded-b-lg\">\n                    <button onClick={onClose} className=\"bg-gray-600 hover:bg-gray-700 text-white font-semibold py-2 px-4 rounded-md\">Close</button>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nconst OvaSourcesTable = ({ sources, onEdit, onDelete, onViewDetails }) => (\n    <div className=\"bg-white shadow-md rounded-lg overflow-hidden\">\n        <table className=\"min-w-full divide-y divide-gray-200\">\n            <thead className=\"bg-gray-50\">\n                <tr>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Name</th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Namespace</th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">URL</th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"></th>\n                </tr>\n            </thead>\n            <tbody className=\"bg-white divide-y divide-gray-200\">\n                {sources.length === 0 ? (\n                    <tr>\n                        <td colSpan=\"4\" className=\"px-6 py-4 text-center text-sm text-gray-500\">No OVA sources found.</td>\n                    </tr>\n                ) : (\n                    sources.map(source => (\n                        <tr key={source.metadata.uid} className=\"hover:bg-gray-50\">\n                            <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">{source.metadata.name}</td>\n                            <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">{source.metadata.namespace}</td>\n                            <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">{source.spec.url}</td>\n                            <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2\">\n                                <button onClick={() => onEdit(source)} title=\"Edit\" className=\"text-blue-600 hover:text-blue-800\"><Edit size={18} /></button>\n                                <button onClick={() => onDelete(source)} title=\"Delete\" className=\"text-red-600 hover:text-red-800\"><Trash2 size={18} /></button>\n                                <button onClick={() => onViewDetails(source)} className=\"text-blue-600 hover:text-blue-800\">Details</button>\n                            </td>\n                        </tr>\n                    ))\n                )}\n            </tbody>\n        </table>\n    </div>\n);\n\nconst OvaSourceWizard = ({ onCancel, onSave, source }) => {\n    const [name, setName] = useState('');\n    const [namespace, setNamespace] = useState('default');\n    const [url, setUrl] = useState('');\n    const [httpTimeoutSeconds, setHttpTimeoutSeconds] = useState('');\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n    const isEditMode = !!source;\n\n    useEffect(() => {\n        if (isEditMode) {\n            setName(source.metadata.name);\n            setNamespace(source.metadata.namespace);\n            setUrl(source.spec.url || '');\n            setHttpTimeoutSeconds(source.spec.httpTimeoutSeconds || '');\n            setUsername(source.spec.username || '');\n        }\n    }, [source, isEditMode]);\n\n    const handleSubmit = () => {\n        const payload = {\n            name,\n            namespace,\n            url,\n            httpTimeoutSeconds: httpTimeoutSeconds ? parseInt(httpTimeoutSeconds, 10) : 0,\n            username,\n            password\n        };\n        onSave(payload, isEditMode);\n    };\n\n    return (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center p-4 z-50\">\n            <div className=\"bg-white rounded-lg shadow-xl w-full max-w-lg\">\n                <div className=\"p-4 border-b\">\n                    <h2 className=\"text-xl font-semibold\">{isEditMode ? 'Edit' : 'Create'} OVA Source</h2>\n                </div>\n                <div className=\"p-6 space-y-4\">\n                    <div>\n                        <label className=\"block text-sm font-medium text-gray-700\">Name</label>\n                        <input type=\"text\" value={name} onChange={e => setName(e.target.value)} disabled={isEditMode} className=\"mt-1 block w-full form-input disabled:bg-gray-200\" />\n                    </div>\n                    <div>\n                        <label className=\"block text-sm font-medium text-gray-700\">Namespace</label>\n                        <input type=\"text\" value={namespace} onChange={e => setNamespace(e.target.value)} disabled={isEditMode} className=\"mt-1 block w-full form-input disabled:bg-gray-200\" />\n                    </div>\n                    <div>\n                        <label className=\"block text-sm font-medium text-gray-700\">OVA File URL</label>\n                        <input type=\"text\" placeholder=\"http://192.168.0.1:8080/example.ova\" value={url} onChange={e => setUrl(e.target.value)} className=\"mt-1 block w-full form-input\" />\n                    </div>\n                    <div>\n                        <label className=\"block text-sm font-medium text-gray-700\">HTTP Timeout (Seconds)</label>\n                        <input type=\"number\" placeholder=\"Optional. Default is 600\" value={httpTimeoutSeconds} onChange={e => setHttpTimeoutSeconds(e.target.value)} className=\"mt-1 block w-full form-input\" />\n                    </div>\n                    <div>\n                        <label className=\"block text-sm font-medium text-gray-700\">Username</label>\n                        <input type=\"text\" value={username} onChange={e => setUsername(e.target.value)} className=\"mt-1 block w-full form-input\" placeholder=\"Optional\" />\n                    </div>\n                    <div>\n                        <label className=\"block text-sm font-medium text-gray-700\">Password</label>\n                        <input type=\"password\" value={password} onChange={e => setPassword(e.target.value)} className=\"mt-1 block w-full form-input\" placeholder={isEditMode ? \"Leave blank to keep existing password\" : \"Optional\"} />\n                    </div>\n                </div>\n                <div className=\"p-4 border-t flex justify-end space-x-2\">\n                    <button onClick={onCancel} className=\"bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-4 rounded-md\">Cancel</button>\n                    <button onClick={handleSubmit} className=\"bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded-md\">Save</button>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nconst OvaSourceDetails = ({ source, onClose }) => {\n    const [yamlContent, setYamlContent] = useState('');\n    const [showYaml, setShowYaml] = useState(false);\n    const [isLoadingYaml, setIsLoadingYaml] = useState(false);\n\n    const fetchYaml = async () => {\n        setIsLoadingYaml(true);\n        try {\n            const response = await fetch(`/api/v1/harvester/ovasources/${source.metadata.namespace}/${source.metadata.name}/yaml`);\n            const data = await response.text();\n            setYamlContent(data || \"Could not generate YAML.\");\n        } catch (err) {\n            setYamlContent(\"Failed to fetch YAML.\");\n        } finally {\n            setIsLoadingYaml(false);\n        }\n    };\n\n    const handleShowYaml = () => {\n        if (showYaml) {\n            setShowYaml(false);\n        } else {\n            setShowYaml(true);\n            fetchYaml();\n        }\n    };\n\n    return (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center p-4 z-50\">\n            <div className=\"bg-white rounded-lg shadow-xl w-full max-w-2xl flex flex-col max-h-[90vh]\">\n                <div className=\"flex justify-between items-center p-4 border-b\">\n                    <h2 className=\"text-xl font-semibold text-gray-800\">{source.metadata.name}</h2>\n                    <button onClick={onClose} className=\"p-2 rounded-full hover:bg-gray-200\">\n                        <X size={20} />\n                    </button>\n                </div>\n                <div className=\"p-6 space-y-6 overflow-y-auto\">\n                    <div>\n                        <h3 className=\"text-lg font-medium text-gray-900 mb-2\">Source Summary</h3>\n                        <div className=\"p-3 bg-gray-50 rounded-md border text-sm space-y-1\">\n                            <p><strong>URL:</strong> {source.spec.url}</p>\n                            <p><strong>HTTP Timeout:</strong> {source.spec.httpTimeoutSeconds || '600'}s</p>\n                            <p><strong>Credentials Secret:</strong> {source.spec.credentials.namespace}/{source.spec.credentials.name}</p>\n                        </div>\n                    </div>\n                    <div>\n                        <button onClick={handleShowYaml} className=\"text-sm text-blue-600 hover:underline\">\n                            {showYaml ? 'Hide' : 'View'} YAML\n                        </button>\n                        {showYaml && (\n                            <div className=\"mt-2 p-2 border rounded-md bg-gray-900 text-white font-mono text-xs max-h-64 overflow-y-auto\">\n                                <pre>{isLoadingYaml ? 'Loading...' : yamlContent}</pre>\n                            </div>\n                        )}\n                    </div>\n                </div>\n                <div className=\"p-4 border-t bg-gray-50 text-right rounded-b-lg\">\n                    <button onClick={onClose} className=\"bg-gray-600 hover:bg-gray-700 text-white font-semibold py-2 px-4 rounded-md\">Close</button>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nconst PlanDetails = ({ plan, onClose }) => {\n    const [logs, setLogs] = useState('');\n    const [yamlContent, setYamlContent] = useState('');\n    const [showDebug, setShowDebug] = useState(null); // 'logs' or 'yaml'\n    const [isLoadingDebug, setIsLoadingDebug] = useState(false);\n\n    const fetchLogs = async () => {\n        setIsLoadingDebug(true);\n        try {\n            const response = await fetch(`/api/v1/plans/${plan.metadata.namespace}/${plan.metadata.name}/logs`);\n            const data = await response.text();\n            setLogs(data || \"No relevant logs found.\");\n        } catch (err) {\n            setLogs(\"Failed to fetch logs.\");\n        } finally {\n            setIsLoadingDebug(false);\n        }\n    };\n\n    const fetchYaml = async () => {\n        setIsLoadingDebug(true);\n        try {\n            const response = await fetch(`/api/v1/plans/${plan.metadata.namespace}/${plan.metadata.name}/yaml`);\n            const data = await response.text();\n            setYamlContent(data || \"Could not generate YAML.\");\n        } catch (err) {\n            setYamlContent(\"Failed to fetch YAML.\");\n        } finally {\n            setIsLoadingDebug(false);\n        }\n    };\n\n    const handleShowDebug = (type) => {\n        if (showDebug === type) {\n            setShowDebug(null); // Toggle off\n            return;\n        }\n        setShowDebug(type);\n        if (type === 'logs') {\n            fetchLogs();\n        } else if (type === 'yaml') {\n            fetchYaml();\n        }\n    };\n\n    return (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center p-4 z-50\">\n            <div className=\"bg-white rounded-lg shadow-xl w-full max-w-3xl flex flex-col max-h-[90vh]\">\n                <div className=\"flex justify-between items-center p-4 border-b\">\n                    <h2 className=\"text-xl font-semibold text-gray-800\">{plan.metadata.name}</h2>\n                    <button onClick={onClose} className=\"p-2 rounded-full hover:bg-gray-200\">\n                        <X size={20} />\n                    </button>\n                </div>\n                <div className=\"p-6 space-y-6 overflow-y-auto\">\n                    <div>\n                        <h3 className=\"text-lg font-medium text-gray-900 mb-2\">VM Characteristics</h3>\n                        <div className=\"p-3 bg-gray-50 rounded-md border text-sm space-y-2\">\n                            <div className=\"flex items-center\">\n                                <Cpu size={16} className=\"mr-2 text-gray-600\" />\n                                <span>{plan.vms?.[0]?.cpu || 'N/A'} vCPU(s)</span>\n                            </div>\n                            <div className=\"flex items-center\">\n                                <MemoryStick size={16} className=\"mr-2 text-gray-600\" />\n                                <span>{formatBytes((plan.vms?.[0]?.memoryMB || 0) * 1024 * 1024, 0)} Memory</span>\n                            </div>\n                            <div className=\"flex items-center\">\n                                <HardDrive size={16} className=\"mr-2 text-gray-600\" />\n                                <span>{plan.vms?.[0]?.diskSizeGB || 'N/A'} GB Storage</span>\n                            </div>\n                            {/* Added Folder Display */}\n                            <div className=\"flex items-center\">\n                                <Folder size={16} className=\"mr-2 text-gray-600\" />\n                                <span>{plan.spec?.folder || '/'}</span>\n                            </div>\n                        </div>\n                    </div>\n                    <div>\n                        <h3 className=\"text-lg font-medium text-gray-900 mb-2\">Plan Summary</h3>\n                        <div className=\"p-3 bg-gray-50 rounded-md border text-sm space-y-1\">\n                            <p><strong>VM Name:</strong> {plan.spec?.virtualMachineName || 'N/A'}</p>\n                            <p><strong>Source:</strong> {plan.spec?.sourceCluster?.namespace}/{plan.spec?.sourceCluster?.name || 'N/A'}</p>\n                            <p><strong>Storage Class:</strong> {plan.spec?.storageClass || 'N/A'}</p>\n\n                            {/* Added Advanced Options Display */}\n                            {plan.spec?.forcePowerOff && <p><strong>Force Power Off:</strong> Yes</p>}\n                            {plan.spec?.gracefulShutdownTimeoutSeconds > 0 && <p><strong>Shutdown Timeout:</strong> {plan.spec.gracefulShutdownTimeoutSeconds}s</p>}\n                            {plan.spec?.defaultNetworkInterfaceModel && <p><strong>Default Interface:</strong> {plan.spec.defaultNetworkInterfaceModel}</p>}\n                            {plan.spec?.skipPreflightChecks && <p><strong>Skip Validation:</strong> Yes</p>}\n                            {plan.spec?.defaultDiskBusType && <p><strong>Disk Bus:</strong> {plan.spec.defaultDiskBusType}</p>}\n                        </div>\n                    </div>\n                    <div>\n                        <div className=\"flex space-x-2\">\n                            <button onClick={() => handleShowDebug('logs')} className=\"text-sm text-blue-600 hover:underline\">\n                                {showDebug === 'logs' ? 'Hide' : 'Show'} Debug Logs\n                            </button>\n                            <button onClick={() => handleShowDebug('yaml')} className=\"text-sm text-blue-600 hover:underline\">\n                                {showDebug === 'yaml' ? 'Hide' : 'View'} YAML\n                            </button>\n                        </div>\n                        {showDebug && (\n                            <div className=\"mt-2 p-2 border rounded-md bg-gray-900 text-white font-mono text-xs max-h-48 overflow-y-auto\">\n                                <pre>{isLoadingDebug ? 'Loading...' : (showDebug === 'logs' ? logs : yamlContent)}</pre>\n                            </div>\n                        )}\n                    </div>\n                </div>\n                <div className=\"p-4 border-t bg-gray-50 text-right rounded-b-lg\">\n                    <button onClick={onClose} className=\"bg-gray-600 hover:bg-gray-700 text-white font-semibold py-2 px-4 rounded-md\">Close</button>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nconst VmIcon = ({ type }) => {\n    switch (type) {\n        case 'datacenter': return <Cloud className=\"w-5 h-5 text-blue-500\" />;\n        case 'ClusterComputeResource': return <Server className=\"w-5 h-5 text-purple-500\" />;\n        case 'Folder': return <Folder className=\"w-5 h-5 text-yellow-600\" />;\n        case 'VirtualMachine': return <HardDrive className=\"w-5 h-5 text-gray-600\" />;\n        default: return null;\n    }\n};\n\nconst InventoryTree = ({ node, onVmSelect, currentlySelectedVm, level = 0 }) => {\n    const [isOpen, setIsOpen] = useState(level < 2);\n    const isParent = node.children && node.children.length > 0;\n\n    const handleNodeClick = () => {\n        if (isParent) {\n            setIsOpen(!isOpen);\n        } else if (node.type === 'VirtualMachine') {\n            onVmSelect(node);\n        }\n    };\n\n    return (\n        <div style={{ paddingLeft: level > 0 ? '20px' : '0px' }}>\n            <div\n                className={`flex items-center p-2 rounded-md cursor-pointer ${currentlySelectedVm?.name === node.name ? 'bg-blue-100' : 'hover:bg-gray-100'}`}\n                onClick={handleNodeClick}\n            >\n                {isParent && <ChevronRight size={16} className={`mr-1 transform transition-transform ${isOpen ? 'rotate-90' : ''}`} />}\n                <VmIcon type={node.type} />\n                <span className=\"ml-2 text-gray-800\">{node.name}</span>\n            </div>\n            {isOpen && isParent && (\n                <div>\n                    {node.children.map((child, index) => (\n                        <InventoryTree\n                            key={index}\n                            node={child}\n                            onVmSelect={onVmSelect}\n                            currentlySelectedVm={currentlySelectedVm}\n                            level={level + 1}\n                        />\n                    ))}\n                </div>\n            )}\n        </div>\n    );\n};\n\nconst VmDetailsPanel = ({ vm }) => {\n    if (!vm) {\n        return (\n            <div className=\"p-4 border rounded-md bg-gray-50 h-full flex items-center justify-center\">\n                <p className=\"text-gray-500\">Select a VM to see details</p>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"p-4 border rounded-md bg-gray-50 h-full\">\n            <h3 className=\"text-lg font-medium text-gray-900 mb-4\">{vm.name}</h3>\n            <div className=\"space-y-3 text-sm\">\n                <div className=\"flex items-center\">\n                    <Cpu size={16} className=\"mr-2 text-gray-600\" />\n                    <span>{vm.cpu || 'N/A'} vCPU(s)</span>\n                </div>\n                <div className=\"flex items-center\">\n                    <MemoryStick size={16} className=\"mr-2 text-gray-600\" />\n                    <span>{formatBytes((vm.memoryMB || 0) * 1024 * 1024, 0)} Memory</span>\n                </div>\n                <div className=\"flex items-center\">\n                    <HardDrive size={16} className=\"mr-2 text-gray-600\" />\n                    <span>{vm.diskSizeGB || 'N/A'} GB Storage</span>\n                </div>\n                {/* Added Folder Display */}\n                <div className=\"flex items-center\">\n                    <Folder size={16} className=\"mr-2 text-gray-600\" />\n                    <span>{vm.folder || '/'}</span>\n                </div>\n                <div>\n                    <h4 className=\"font-medium text-gray-800 mt-4 mb-1\">Networks</h4>\n                    <ul className=\"list-disc list-inside pl-2\">\n                        {(vm.networks || []).map((net, i) => <li key={i}>{net}</li>)}\n                    </ul>\n                </div>\n            </div>\n        </div>\n    );\n};\n\n// --- UPDATED WIZARD COMPONENT ---\nconst CreatePlanWizard = ({ onCancel, onCreatePlan, capabilities }) => {\n    const [step, setStep] = useState(1);\n    const [sourceType, setSourceType] = useState('vmware');\n    const [vmwareSources, setVmwareSources] = useState([]);\n    const [ovaSources, setOvaSources] = useState([]);\n    const [selectedSource, setSelectedSource] = useState(\"\");\n    const [vcenterInventory, setVcenterInventory] = useState(null);\n    const [isConnecting, setIsConnecting] = useState(false);\n    const [connectionError, setConnectionError] = useState('');\n    const [selectedVm, setSelectedVm] = useState(null);\n    const [planName, setPlanName] = useState('');\n    const [targetNamespace, setTargetNamespace] = useState('');\n    const [newNamespace, setNewNamespace] = useState('');\n    const [namespaces, setNamespaces] = useState([]);\n    const [existingVmNames, setExistingVmNames] = useState([]);\n    const [vmNameConflict, setVmNameConflict] = useState(false);\n    const [ovaVmName, setOvaVmName] = useState('');\n\n    // Updated state for mappings\n    const [networkMappings, setNetworkMappings] = useState({});\n    const [networkModels, setNetworkModels] = useState({});\n\n    const [harvesterNetworks, setHarvesterNetworks] = useState([]);\n    const [storageClass, setStorageClass] = useState('');\n    const [storageClasses, setStorageClasses] = useState([]);\n\n    // New state for advanced options\n    const [forcePowerOff, setForcePowerOff] = useState(false);\n    const [shutdownTimeout, setShutdownTimeout] = useState('');\n    const [defaultModel, setDefaultModel] = useState('');\n\n    // NEW: States for v1.6 features\n    const [skipPreflight, setSkipPreflight] = useState(false);\n    const [diskBus, setDiskBus] = useState('');\n\n    const fetchNamespaces = () => {\n        fetch('/api/v1/harvester/namespaces')\n            .then(res => res.json())\n            .then(data => setNamespaces(data.map(ns => ns.metadata.name)))\n            .catch(err => console.error(\"Failed to fetch namespaces:\", err));\n    };\n\n    const fetchSources = () => {\n        fetch('/api/v1/harvester/vmwaresources')\n            .then(res => res.json())\n            .then(data => setVmwareSources(data || []))\n            .catch(err => console.error(\"Failed to fetch VmwareSources:\", err));\n    };\n\n    const fetchOvaSources = () => {\n        fetch('/api/v1/harvester/ovasources')\n            .then(res => res.json())\n            .then(data => setOvaSources(data || []))\n            .catch(err => console.error(\"Failed to fetch OvaSources:\", err));\n    };\n\n    const fetchNetworks = () => {\n        fetch('/api/v1/harvester/vlanconfigs').then(res => res.json()).then(data => setHarvesterNetworks(data.map(net => net.metadata.namespace + \"/\" + net.metadata.name)));\n    };\n\n    const fetchStorageClasses = () => {\n        fetch('/api/v1/harvester/storageclasses').then(res => res.json()).then(data => setStorageClasses(data.map(sc => sc.metadata.name)));\n    };\n\n    const fetchVmsInNamespace = async (namespace) => {\n        if (!namespace) {\n            setExistingVmNames([]);\n            return;\n        }\n        try {\n            const response = await fetch(`/api/v1/harvester/virtualmachines/${namespace}`);\n            const data = await response.json();\n            setExistingVmNames(data.map(vm => vm.metadata.name));\n        } catch (err) {\n            console.error(\"Failed to fetch VMs in namespace:\", err);\n        }\n    };\n\n    useEffect(() => {\n        fetchSources();\n        fetchOvaSources();\n        fetchNamespaces();\n        fetchNetworks();\n        fetchStorageClasses();\n    }, []);\n\n    useEffect(() => {\n        fetchVmsInNamespace(targetNamespace);\n    }, [targetNamespace]);\n\n    useEffect(() => {\n        const nameToCheck = sourceType === 'ova' ? ovaVmName : (selectedVm ? selectedVm.name : '');\n        if (nameToCheck && existingVmNames.includes(nameToCheck)) {\n            setVmNameConflict(true);\n        } else {\n            setVmNameConflict(false);\n        }\n    }, [selectedVm, ovaVmName, sourceType, existingVmNames]);\n\n    const handleSourceChange = async (sourceIdentifier) => {\n        setSelectedSource(sourceIdentifier);\n        if (!sourceIdentifier) {\n            setVcenterInventory(null);\n            return;\n        }\n\n        if (sourceType === 'ova') {\n            return;\n        }\n\n        const [namespace, name] = sourceIdentifier.split('/');\n        setIsConnecting(true);\n        setConnectionError('');\n        try {\n            const response = await fetch(`/api/v1/vcenter/inventory/${namespace}/${name}`);\n            if (!response.ok) {\n                const errData = await response.json();\n                throw new Error(errData.error || \"Failed to fetch inventory\");\n            }\n            const data = await response.json();\n            setVcenterInventory(data);\n        } catch (error) {\n            setConnectionError(error.message);\n        } finally {\n            setIsConnecting(false);\n        }\n    };\n\n    const sourceNetworks = useMemo(() => {\n        if (!selectedVm) return [];\n        return selectedVm.networks || [];\n    }, [selectedVm]);\n\n    const handleCreateNamespace = async () => {\n        if (!newNamespace) {\n            alert(\"New namespace name cannot be empty.\");\n            return false;\n        }\n        try {\n            const response = await fetch('/api/v1/harvester/namespaces', {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({ name: newNamespace }),\n            });\n            if (!response.ok) {\n                const err = await response.json();\n                throw new Error(`Failed to create namespace: ${err.error}`);\n            }\n            fetchNamespaces();\n            setTargetNamespace(newNamespace);\n            setNewNamespace('');\n            return true;\n        } catch (error) {\n            console.error(error);\n            alert(error.message);\n            return false;\n        }\n    };\n\n    const handleSubmit = async () => {\n        let finalTargetNamespace = targetNamespace;\n        if (targetNamespace === 'create_new') {\n            const success = await handleCreateNamespace();\n            if (!success) return;\n            finalTargetNamespace = newNamespace;\n        }\n\n        const [sourceNamespace, sourceName] = selectedSource.split('/');\n\n        // Construct the plan object\n        const plan = {\n            apiVersion: \"migration.harvesterhci.io/v1beta1\",\n            kind: \"VirtualMachineImport\",\n            metadata: {\n                name: planName.toLowerCase().replace(/\\s+/g, '-'),\n                namespace: finalTargetNamespace,\n            },\n            spec: {\n                virtualMachineName: sourceType === 'ova' ? ovaVmName : selectedVm.name,\n                sourceCluster: {\n                    name: sourceName,\n                    namespace: sourceNamespace,\n                    kind: sourceType === 'ova' ? \"OvaSource\" : \"VmwareSource\",\n                    apiVersion: \"migration.harvesterhci.io/v1beta1\",\n                },\n                storageClass: storageClass,\n                networkMapping: Object.entries(networkMappings).map(([key, value]) => ({\n                    sourceNetwork: key,\n                    destinationNetwork: `${value}`,\n                    networkInterfaceModel: capabilities.hasAdvancedPower ? (networkModels[key] || undefined) : undefined\n                })),\n                folder: sourceType === 'ova' ? undefined : selectedVm?.folder,\n            }\n        };\n\n        // Only attach advanced fields if the cluster supports them\n        if (capabilities.hasAdvancedPower) {\n            plan.spec.forcePowerOff = forcePowerOff;\n            if (shutdownTimeout) {\n                plan.spec.gracefulShutdownTimeoutSeconds = parseInt(shutdownTimeout);\n            }\n            if (defaultModel) {\n                plan.spec.defaultNetworkInterfaceModel = defaultModel;\n            }\n\n            // NEW: Attach v1.6 fields\n            plan.spec.skipPreflightChecks = skipPreflight;\n            if (diskBus) {\n                plan.spec.defaultDiskBusType = diskBus;\n            }\n        }\n\n        onCreatePlan(plan);\n    };\n\n    const renderStepContent = () => {\n        switch (step) {\n            case 1:\n                return (\n                    <div>\n                        <h3 className=\"text-lg font-medium text-gray-900 mb-2\">Select Source & VM</h3>\n\n                        <div className=\"mb-4 flex items-center space-x-6\">\n                            <label className=\"inline-flex items-center\">\n                                <input type=\"radio\" className=\"form-radio text-blue-600\" name=\"sourceType\" value=\"vmware\" checked={sourceType === 'vmware'} onChange={() => { setSourceType('vmware'); setSelectedSource(''); setSelectedVm(null); }} />\n                                <span className=\"ml-2\">VMware vCenter</span>\n                            </label>\n                            <label className=\"inline-flex items-center\">\n                                <input type=\"radio\" className=\"form-radio text-blue-600\" name=\"sourceType\" value=\"ova\" checked={sourceType === 'ova'} onChange={() => { setSourceType('ova'); setSelectedSource(''); setOvaVmName(''); }} />\n                                <span className=\"ml-2\">OVA File</span>\n                            </label>\n                        </div>\n\n                        {sourceType === 'vmware' ? (\n                            <div className=\"space-y-4 p-4 border rounded-md bg-gray-50\">\n                                <div className=\"flex items-center\">\n                                    <label className=\"block text-sm font-medium text-gray-700 flex-grow\">vCenter Source</label>\n                                    <button onClick={fetchSources} className=\"ml-2 text-blue-500 hover:text-blue-700\"><RefreshCw size={16} /></button>\n                                </div>\n                                <select value={selectedSource} onChange={e => handleSourceChange(e.target.value)} className=\"mt-1 block w-full form-select\">\n                                    <option value=\"\">Select a source...</option>\n                                    {vmwareSources.map(source => (\n                                        <option key={source.metadata.uid} value={`${source.metadata.namespace}/${source.metadata.name}`}>\n                                            {source.metadata.namespace}/{source.metadata.name}\n                                        </option>\n                                    ))}\n                                </select>\n                            </div>\n                        ) : (\n                            <div className=\"space-y-4 p-4 border rounded-md bg-gray-50\">\n                                <div className=\"flex items-center\">\n                                    <label className=\"block text-sm font-medium text-gray-700 flex-grow\">OVA Source</label>\n                                    <button onClick={fetchOvaSources} className=\"ml-2 text-blue-500 hover:text-blue-700\"><RefreshCw size={16} /></button>\n                                </div>\n                                <select value={selectedSource} onChange={e => handleSourceChange(e.target.value)} className=\"mt-1 block w-full form-select\">\n                                    <option value=\"\">Select an OVA source...</option>\n                                    {ovaSources.map(source => (\n                                        <option key={source.metadata.uid} value={`${source.metadata.namespace}/${source.metadata.name}`}>\n                                            {source.metadata.namespace}/{source.metadata.name}\n                                        </option>\n                                    ))}\n                                </select>\n                                <div>\n                                    <label className=\"block text-sm font-medium text-gray-700\">Target VM Name</label>\n                                    <input type=\"text\" placeholder=\"e.g. My-Imported-OVA\" value={ovaVmName} onChange={e => setOvaVmName(e.target.value)} className=\"mt-1 block w-full form-input\" />\n                                </div>\n                            </div>\n                        )}\n\n                        {sourceType === 'vmware' && isConnecting && <Loader className=\"animate-spin mt-4\" />}\n                        {sourceType === 'vmware' && connectionError && <p className=\"text-sm text-red-600 mt-2\">{connectionError}</p>}\n\n                        {sourceType === 'vmware' && vcenterInventory && (\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4\">\n                                <div className=\"border border-gray-200 rounded-md p-2 h-96 overflow-y-auto bg-white\">\n                                    <div className=\"flex justify-end\">\n                                        <button onClick={() => handleSourceChange(selectedSource)} className=\"text-blue-500 hover:text-blue-700\"><RefreshCw size={16} /></button>\n                                    </div>\n                                    <InventoryTree node={vcenterInventory} onVmSelect={setSelectedVm} currentlySelectedVm={selectedVm} />\n                                </div>\n                                <VmDetailsPanel vm={selectedVm} />\n                            </div>\n                        )}\n                        <p className=\"text-sm text-gray-600 mt-2\">\n                            {sourceType === 'ova' ? (ovaVmName && selectedSource ? '1 VM configured for import.' : 'Select source and enter VM name.') : (selectedVm ? '1 VM selected for migration.' : '0 VMs selected.')}\n                        </p>\n                    </div>\n                );\n            case 2:\n                return (\n                    <div>\n                        <div className=\"flex justify-between items-center\">\n                            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">Configuration</h3>\n                            <button onClick={() => { fetchNamespaces(); fetchStorageClasses(); }} className=\"text-blue-500 hover:text-blue-700\"><RefreshCw size={16} /></button>\n                        </div>\n                        <p className=\"text-sm text-gray-600 mb-4\">Define the migration plan details and target resources.</p>\n\n                        {/* WARNING BANNER if capabilities are missing */}\n                        {(!capabilities.hasAdvancedPower && capabilities.harvesterVersion) && (\n                            <div className=\"mb-4 p-4 bg-yellow-50 border border-yellow-200 rounded-md flex items-start\">\n                                <AlertTriangle className=\"text-yellow-500 w-5 h-5 mr-2 mt-0.5\" />\n                                <div>\n                                    <h4 className=\"text-sm font-semibold text-yellow-800\">Compatibility Mode</h4>\n                                    <p className=\"text-sm text-yellow-700 mt-1\">\n                                        You are connected to Harvester <strong>{capabilities.harvesterVersion}</strong>.\n                                        Advanced options (Force Power Off, Interface Models, Disk Bus) require Harvester v1.6.0+ and have been hidden.\n                                    </p>\n                                </div>\n                            </div>\n                        )}\n\n                        <div className=\"space-y-4\">\n                            <div>\n                                <label className=\"block text-sm font-medium text-gray-700\">Plan Name</label>\n                                <input type=\"text\" value={planName} onChange={e => setPlanName(e.target.value)} className=\"mt-1 block w-full form-input\" />\n                            </div>\n                            <div>\n                                <label className=\"block text-sm font-medium text-gray-700\">Target Namespace</label>\n                                <select value={targetNamespace} onChange={e => setTargetNamespace(e.target.value)} className=\"mt-1 block w-full form-select\">\n                                    <option value=\"\">Select a namespace</option>\n                                    {namespaces.map(ns => <option key={ns} value={ns}>{ns}</option>)}\n                                    <option value=\"create_new\">--- Create New Namespace ---</option>\n                                </select>\n                                {targetNamespace === 'create_new' && (\n                                    <input\n                                        type=\"text\"\n                                        value={newNamespace}\n                                        onChange={e => setNewNamespace(e.target.value)}\n                                        placeholder=\"Enter new namespace name\"\n                                        className=\"mt-2 block w-full form-input\"\n                                    />\n                                )}\n                                {vmNameConflict && <p className=\"text-sm text-red-600 mt-1\">A VM with the name \"{selectedVm.name}\" already exists in this namespace. Please choose a different namespace.</p>}\n                            </div>\n                            <div>\n                                <label className=\"block text-sm font-medium text-gray-700\">Target Storage Class</label>\n                                <select value={storageClass} onChange={e => setStorageClass(e.target.value)} className=\"mt-1 block w-full form-select\">\n                                    <option value=\"\">Select a Storage Class</option>\n                                    {storageClasses.map(sc => <option key={sc} value={sc}>{sc}</option>)}\n                                </select>\n                            </div>\n                        </div>\n\n                        {/* New Advanced Options Section */}\n                        {capabilities.hasAdvancedPower && (\n                            <div className=\"mt-6 border-t pt-4\">\n                                <h4 className=\"text-md font-medium text-gray-900 mb-3\">Advanced Options</h4>\n                                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 bg-gray-50 p-4 rounded-md border\">\n                                    <div className=\"flex items-center\">\n                                        <input\n                                            id=\"forcePowerOff\"\n                                            type=\"checkbox\"\n                                            checked={forcePowerOff}\n                                            onChange={e => setForcePowerOff(e.target.checked)}\n                                            className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                                        />\n                                        <label htmlFor=\"forcePowerOff\" className=\"ml-2 block text-sm text-gray-700\">\n                                            Force Power Off Source VM\n                                            <p className=\"text-xs text-gray-500 mt-0.5\">Required if VMware Tools is not installed.</p>\n                                        </label>\n                                    </div>\n\n                                    {/* NEW: Skip Preflight Checks */}\n                                    <div className=\"flex items-center\">\n                                        <input\n                                            id=\"skipPreflight\"\n                                            type=\"checkbox\"\n                                            checked={skipPreflight}\n                                            onChange={e => setSkipPreflight(e.target.checked)}\n                                            className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                                        />\n                                        <label htmlFor=\"skipPreflight\" className=\"ml-2 block text-sm text-gray-700\">\n                                            Skip Preflight Checks\n                                            <p className=\"text-xs text-gray-500 mt-0.5\">Bypass validation (use with caution).</p>\n                                        </label>\n                                    </div>\n\n                                    <div>\n                                        <label className=\"block text-sm font-medium text-gray-700\">Graceful Shutdown Timeout (Seconds)</label>\n                                        <input\n                                            type=\"number\"\n                                            value={shutdownTimeout}\n                                            onChange={e => setShutdownTimeout(e.target.value)}\n                                            placeholder=\"e.g. 300\"\n                                            className=\"mt-1 block w-full form-input text-sm\"\n                                        />\n                                    </div>\n\n                                    <div>\n                                        <label className=\"block text-sm font-medium text-gray-700\">Default Network Interface Model</label>\n                                        <select\n                                            value={defaultModel}\n                                            onChange={e => setDefaultModel(e.target.value)}\n                                            className=\"mt-1 block w-full form-select text-sm\"\n                                        >\n                                            <option value=\"\">Auto (Default)</option>\n                                            <option value=\"e1000\">e1000</option>\n                                            <option value=\"e1000e\">e1000e</option>\n                                            <option value=\"ne2k_pci\">ne2k_pci</option>\n                                            <option value=\"pcnet\">pcnet</option>\n                                            <option value=\"rtl8139\">rtl8139</option>\n                                            <option value=\"virtio\">virtio</option>\n                                        </select>\n                                    </div>\n\n                                    {/* NEW: Default Disk Bus Type */}\n                                    <div className=\"md:col-span-2\">\n                                        <label className=\"block text-sm font-medium text-gray-700\">Default Disk Bus Type</label>\n                                        <select\n                                            value={diskBus}\n                                            onChange={e => setDiskBus(e.target.value)}\n                                            className=\"mt-1 block w-full form-select text-sm\"\n                                        >\n                                            <option value=\"\">Auto (Default)</option>\n                                            <option value=\"virtio\">virtio (High Performance)</option>\n                                            <option value=\"scsi\">scsi</option>\n                                            <option value=\"sata\">sata</option>\n                                            <option value=\"usb\">usb</option>\n                                        </select>\n                                        <p className=\"text-xs text-gray-500 mt-1\">Specify bus type if automatic detection fails.</p>\n                                    </div>\n                                </div>\n                            </div>\n                        )}\n                    </div>\n                );\n            case 3:\n                return (\n                    <div>\n                        <div className=\"flex items-center\">\n                            <h3 className=\"text-lg font-medium text-gray-900 mb-2 flex-grow\">Network Mapping</h3>\n                            <button onClick={fetchNetworks} className=\"ml-2 text-blue-500 hover:text-blue-700\"><RefreshCw size={16} /></button>\n                        </div>\n                        <p className=\"text-sm text-gray-600 mb-4\">Map source networks to target Harvester networks.</p>\n                        {harvesterNetworks.length === 0 ? (\n                            <p className=\"text-sm text-gray-500\">No VLANs defined in Harvester.</p>\n                        ) : (\n                            <div className=\"space-y-4\">\n                                {sourceNetworks.map(net => (\n                                    <div key={net} className=\"grid grid-cols-1 md:grid-cols-12 gap-4 items-center border-b pb-4 mb-2 last:border-0 last:pb-0\">\n                                        <div className=\"md:col-span-4 font-mono text-sm text-gray-800 break-all flex items-center\">\n                                            <div className=\"bg-gray-200 text-gray-600 px-2 py-1 rounded text-xs mr-2\">Source</div>\n                                            {net}\n                                        </div>\n                                        <div className=\"md:col-span-1 text-center hidden md:block\">\n                                            <ArrowRight className=\"mx-auto text-gray-400\" />\n                                        </div>\n                                        <div className=\"md:col-span-4\">\n                                            <select\n                                                onChange={e => setNetworkMappings(prev => ({ ...prev, [net]: e.target.value }))}\n                                                className=\"form-select w-full text-sm\"\n                                            >\n                                                <option>Select Harvester Network</option>\n                                                {harvesterNetworks.map(hnet => <option key={hnet} value={hnet}>{hnet}</option>)}\n                                            </select>\n                                        </div>\n\n                                        {capabilities.hasAdvancedPower && (\n                                            <div className=\"md:col-span-3\">\n                                                <select\n                                                    onChange={e => setNetworkModels(prev => ({ ...prev, [net]: e.target.value }))}\n                                                    className=\"form-select w-full text-sm text-gray-600\"\n                                                    title=\"Specific Interface Model\"\n                                                >\n                                                    <option value=\"\">Default Model</option>\n                                                    <option value=\"e1000\">e1000</option>\n                                                    <option value=\"e1000e\">e1000e</option>\n                                                    <option value=\"ne2k_pci\">ne2k_pci</option>\n                                                    <option value=\"pcnet\">pcnet</option>\n                                                    <option value=\"rtl8139\">rtl8139</option>\n                                                    <option value=\"virtio\">virtio</option>\n                                                </select>\n                                            </div>\n                                        )}\n                                    </div>\n                                ))}\n                            </div>\n                        )}\n                    </div>\n                );\n            case 4:\n                return (\n                    <div>\n                        <h3 className=\"text-lg font-medium text-gray-900 mb-2\">Review Plan</h3>\n                        <div className=\"space-y-4 text-sm\">\n                            <div><strong>Plan Name:</strong> {planName}</div>\n                            <div><strong>Destination VM Name:</strong> {selectedVm.name}</div>\n                            <div><strong>Target Namespace:</strong> {targetNamespace === 'create_new' ? `${newNamespace} (new)` : targetNamespace}</div>\n                            <div><strong>Storage Class:</strong> {storageClass}</div>\n\n                            {/* Review Advanced Options */}\n                            {capabilities.hasAdvancedPower && (forcePowerOff || shutdownTimeout || defaultModel || skipPreflight || diskBus) && (\n                                <div className=\"mt-2 p-2 bg-yellow-50 rounded border border-yellow-100\">\n                                    <h4 className=\"font-medium text-yellow-800\">Advanced Settings:</h4>\n                                    <ul className=\"list-disc list-inside pl-2 text-yellow-800\">\n                                        {forcePowerOff && <li>Force Power Off: Enabled</li>}\n                                        {shutdownTimeout && <li>Shutdown Timeout: {shutdownTimeout}s</li>}\n                                        {defaultModel && <li>Default Interface: {defaultModel}</li>}\n                                        {skipPreflight && <li>Skip Validation: Yes</li>}\n                                        {diskBus && <li>Disk Bus: {diskBus}</li>}\n                                    </ul>\n                                </div>\n                            )}\n\n                            <div>\n                                <h4 className=\"font-medium mt-2\">VM to Migrate:</h4>\n                                <ul className=\"list-disc list-inside pl-4\">\n                                    <li>{selectedVm?.name} <span className=\"text-gray-500 text-xs\">(Folder: {selectedVm?.folder || '/'})</span></li>\n                                </ul>\n                            </div>\n                            <div>\n                                <h4 className=\"font-medium mt-2\">Network Mappings:</h4>\n                                <ul className=\"list-disc list-inside pl-4\">\n                                    {Object.entries(networkMappings).map(([key, value]) => (\n                                        <li key={key}>\n                                            {key} &rarr; {value}\n                                            {capabilities.hasAdvancedPower && networkModels[key] && <span className=\"text-xs text-gray-500 ml-2\">[{networkModels[key]}]</span>}\n                                        </li>\n                                    ))}\n                                </ul>\n                            </div>\n                        </div>\n                    </div>\n                );\n            default: return null;\n        }\n    };\n\n    return (\n        <div>\n            <Header title=\"Create Migration Plan\" />\n            <div className=\"bg-white p-6 shadow-md rounded-lg\">\n                {renderStepContent()}\n            </div>\n            <div className=\"mt-6 flex justify-between\">\n                <button onClick={onCancel} className=\"bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-4 rounded-md\">Cancel</button>\n                <div>\n                    {step > 1 && <button onClick={() => setStep(s => s - 1)} className=\"bg-gray-500 hover:bg-gray-600 text-white font-semibold py-2 px-4 rounded-md mr-2\">Back</button>}\n                    {step < 4 && <button onClick={() => setStep(s => s + 1)} disabled={vmNameConflict} className=\"bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded-md disabled:opacity-50\">Next</button>}\n                    {step === 4 && <button onClick={handleSubmit} className=\"bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded-md\">Create Plan</button>}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nconst AboutPage = () => (\n    <div>\n        <div className=\"flex justify-between items-center mb-6\">\n            <h1 className=\"text-2xl font-bold text-gray-800\">\n                About VM Import UI\n            </h1>\n\n            <img\n                src=\"/logo-stacked-harvester.svg\"\n                alt=\"Harvester Logo\"\n                className=\"h-32 w-32\"\n            />\n        </div>\n\n        <div className=\"bg-white shadow-md rounded-lg p-6 relative overflow-hidden\">\n            <a href=\"https://github.com/doccaz/vm-import-ui\" target=\"_blank\" rel=\"noopener noreferrer\" aria-label=\"View source on GitHub\" className=\"fixed top-0 right-0 z-50\">\n                <svg width=\"80\" height=\"80\" viewBox=\"0 0 250 250\" style={{ fill: '#151513', color: '#fff', position: 'absolute', top: 0, border: 0, right: 0 }} aria-hidden=\"true\">\n                    <path d=\"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z\"></path>\n                    <path d=\"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2\" fill=\"currentColor\" style={{ transformOrigin: '130px 106px' }} className=\"octo-arm\"></path>\n                    <path d=\"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z\" fill=\"currentColor\" className=\"octo-body\"></path>\n                </svg>\n            </a>\n            <style>{`.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}`}</style>\n\n            <h2 className=\"text-xl font-semibold mb-4 z-10 relative\">Harvester VM Import UI</h2>\n            <p className=\"mb-2 z-10 relative\"><strong>Version:</strong> 1.1.0</p>\n            <p className=\"mb-2 z-10 relative\">This UI provides a user-friendly interface for the Harvester VM Import Controller, allowing users to import virtual machines from a VMware vCenter into a Harvester cluster.</p>\n            <p className=\"mb-6 italic text-sm text-gray-600 z-10 relative mt-2 border-l-4 border-blue-400 pl-3\">Based off of an idea by Erico Mendonca (erico.mendonca@suse.com)</p>\n\n            <h3 className=\"text-lg font-semibold mb-3 z-10 relative\">How to Use</h3>\n            <div className=\"space-y-4 z-10 relative text-gray-700\">\n                <div>\n                    <h4 className=\"font-semibold text-gray-800 flex items-center mb-1\"><List size={16} className=\"mr-1 text-blue-600\" /> Migration Plans Tab</h4>\n                    <p className=\"text-sm\">\n                        This is your primary dashboard for managing imports. Once you have configured a source (vCenter or OVA), click <strong>Create</strong> to launch the Migration Plan Wizard. The wizard will guide you through:\n                    </p>\n                    <ul className=\"list-disc list-inside text-sm mt-1 ml-2 space-y-1\">\n                        <li>Selecting your pre-configured source type (VMware vs. OVA).</li>\n                        <li>Choosing the specific Virtual Machine to import (via vCenter inventory tree or by specifying the OVA VM name).</li>\n                        <li>Configuring target execution parameters like Namespace and Storage Class.</li>\n                        <li>Mapping source networks to Harvester VLANs and specifying advanced interfaces (e.g., virtio, e1000).</li>\n                    </ul>\n                    <p className=\"text-sm mt-1\">From the dashboard, you can track the live progress, examine the raw YAML configuration, and view backend logs for each migration.</p>\n                </div>\n\n                <div>\n                    <h4 className=\"font-semibold text-gray-800 flex items-center mb-1\"><Server size={16} className=\"mr-1 text-blue-600\" /> vCenter Sources Tab</h4>\n                    <p className=\"text-sm\">\n                        Before migrating VMs from VMware, you must register the vCenter instance here. Click <strong>Create</strong> and provide:\n                    </p>\n                    <ul className=\"list-disc list-inside text-sm mt-1 ml-2 space-y-1\">\n                        <li>The vCenter Endpoint URL and Datacenter Name.</li>\n                        <li>Credentials (Username/Password), which are securely stored as Kubernetes Secrets.</li>\n                    </ul>\n                    <p className=\"text-sm mt-1\">You can edit these configurations or delete them (which concurrently deletes the stored credential Secret).</p>\n                </div>\n\n                <div>\n                    <h4 className=\"font-semibold text-gray-800 flex items-center mb-1\"><Package size={16} className=\"mr-1 text-blue-600\" /> OVA Sources Tab</h4>\n                    <p className=\"text-sm\">\n                        Use this tab to define HTTP/HTTPS endpoints serving Open Virtual Appliance (.ova) files. Click <strong>Create</strong> to add an OVA source, specifying:\n                    </p>\n                    <ul className=\"list-disc list-inside text-sm mt-1 ml-2 space-y-1\">\n                        <li>The Download URL for the OVA file.</li>\n                        <li>An optional HTTP Timeout limit.</li>\n                        <li>Optional Username and Password for authenticated endpoints (stored securely).</li>\n                    </ul>\n                </div>\n\n                <div>\n                    <h4 className=\"font-semibold text-gray-800 flex items-center mb-1\"><Info size={16} className=\"mr-1 text-blue-600\" /> About Tab</h4>\n                    <p className=\"text-sm\">\n                        You are here! This tab provides application versioning, attribution, frontend GitHub links, and basic documentation on how to navigate the utility.\n                    </p>\n                </div>\n            </div>\n        </div>\n    </div>\n);\n\nexport default function App() {\n    const [page, setPage] = useState('plans'); // 'plans', 'sources', 'about'\n    const [plans, setPlans] = useState([]);\n    const [sources, setSources] = useState([]);\n    const [isLoading, setIsLoading] = useState(true);\n    const [selectedPlan, setSelectedPlan] = useState(null);\n    const [selectedSource, setSelectedSource] = useState(null);\n    const [planToDelete, setPlanToDelete] = useState(null);\n    const [sourceToEdit, setSourceToEdit] = useState(null);\n    const [sourceToDelete, setSourceToDelete] = useState(null);\n    const [showSourceWizard, setShowSourceWizard] = useState(false);\n    const [refreshInterval, setRefreshInterval] = useState(10);\n    const [ovaSources, setOvaSources] = useState([]);\n    const [showOvaSourceWizard, setShowOvaSourceWizard] = useState(false);\n    const [ovaSourceToEdit, setOvaSourceToEdit] = useState(null);\n    const [ovaSourceToDelete, setOvaSourceToDelete] = useState(null);\n    const [selectedOvaSource, setSelectedOvaSource] = useState(null);\n\n    // NEW: Capability State\n    const [capabilities, setCapabilities] = useState({ harvesterVersion: '', hasAdvancedPower: false });\n\n    // NEW: Fetch Capabilities on Mount\n    useEffect(() => {\n        fetch('/api/v1/capabilities')\n            .then(res => res.json())\n            .then(data => {\n                console.log(\"Cluster Capabilities:\", data);\n                setCapabilities(data);\n            })\n            .catch(err => console.error(\"Failed to fetch capabilities:\", err));\n    }, []);\n\n    const fetchPlans = async () => {\n        setIsLoading(true);\n        try {\n            const response = await fetch('/api/v1/plans');\n            if (!response.ok) {\n                const errData = await response.json();\n                throw new Error(errData.error || \"Failed to fetch plans\");\n            }\n            const data = await response.json();\n            setPlans(data || []);\n        } catch (err) {\n            console.error(\"Failed to fetch plans:\", err);\n            // alert(`Error fetching plans: ${err.message}`);\n            setPlans([]); // Ensure plans is an array on error\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    const fetchSources = async () => {\n        try {\n            const response = await fetch('/api/v1/harvester/vmwaresources');\n            if (!response.ok) {\n                const errData = await response.json();\n                throw new Error(errData.error || \"Failed to fetch sources\");\n            }\n            const data = await response.json();\n            setSources(data || []);\n        } catch (err) {\n            console.error(\"Failed to fetch sources:\", err);\n            // alert(`Error fetching sources: ${err.message}`);\n        }\n    };\n\n    const fetchOvaSources = async () => {\n        try {\n            const response = await fetch('/api/v1/harvester/ovasources');\n            if (!response.ok) {\n                const errData = await response.json();\n                throw new Error(errData.error || \"Failed to fetch OVA sources\");\n            }\n            const data = await response.json();\n            setOvaSources(data || []);\n        } catch (err) {\n            console.error(\"Failed to fetch OVA sources:\", err);\n            // alert(`Error fetching OVA sources: ${err.message}`);\n        }\n    };\n\n    useEffect(() => {\n        fetchPlans();\n        fetchSources();\n        fetchOvaSources();\n        const intervalId = setInterval(fetchPlans, refreshInterval * 1000);\n        return () => clearInterval(intervalId);\n    }, [refreshInterval]);\n\n    const handleCreatePlan = async (planPayload) => {\n        try {\n            const response = await fetch('/api/v1/plans', {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify(planPayload),\n            });\n            if (!response.ok) {\n                const errData = await response.json();\n                throw new Error(errData.error || \"Failed to create plan\");\n            }\n            await response.json();\n            fetchPlans(); // Refresh the list\n            setPage('plans');\n        } catch (err) {\n            console.error(\"Failed to create plan:\", err);\n            alert(`Error creating plan: ${err.message}`);\n        }\n    };\n\n    const handleDeletePlan = async () => {\n        if (!planToDelete) return;\n        try {\n            await fetch(`/api/v1/plans/${planToDelete.metadata.namespace}/${planToDelete.metadata.name}`, {\n                method: 'DELETE',\n            });\n            fetchPlans(); // Refresh the list\n            setPlanToDelete(null); // Close the modal\n        } catch (err) {\n            console.error(\"Failed to delete plan:\", err);\n        }\n    };\n\n    const handleSaveSource = async (payload, isEdit) => {\n        const url = isEdit ? `/api/v1/harvester/vmwaresources/${payload.namespace}/${payload.name}` : '/api/v1/harvester/vmwaresources';\n        const method = isEdit ? 'PUT' : 'POST';\n\n        try {\n            const response = await fetch(url, {\n                method: method,\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify(payload),\n            });\n            if (!response.ok) {\n                const errData = await response.json();\n                throw new Error(errData.error || `Failed to ${isEdit ? 'update' : 'create'} source`);\n            }\n            fetchSources();\n            setShowSourceWizard(false);\n            setSourceToEdit(null);\n        } catch (err) {\n            console.error(`Failed to save source:`, err);\n            alert(`Error saving source: ${err.message}`);\n        }\n    };\n\n    const handleDeleteSource = async () => {\n        if (!sourceToDelete) return;\n        try {\n            await fetch(`/api/v1/harvester/vmwaresources/${sourceToDelete.metadata.namespace}/${sourceToDelete.metadata.name}`, {\n                method: 'DELETE',\n            });\n            fetchSources();\n            setSourceToDelete(null);\n        } catch (err) {\n            console.error(\"Failed to delete source:\", err);\n        }\n    };\n\n    const handleSaveOvaSource = async (payload, isEdit) => {\n        const url = isEdit ? `/api/v1/harvester/ovasources/${payload.namespace}/${payload.name}` : '/api/v1/harvester/ovasources';\n        const method = isEdit ? 'PUT' : 'POST';\n\n        try {\n            const response = await fetch(url, {\n                method: method,\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify(payload),\n            });\n            if (!response.ok) {\n                const errData = await response.json();\n                throw new Error(errData.error || `Failed to ${isEdit ? 'update' : 'create'} OVA source`);\n            }\n            fetchOvaSources();\n            setShowOvaSourceWizard(false);\n            setOvaSourceToEdit(null);\n        } catch (err) {\n            console.error(`Failed to save OVA source:`, err);\n            alert(`Error saving OVA source: ${err.message}`);\n        }\n    };\n\n    const handleDeleteOvaSource = async () => {\n        if (!ovaSourceToDelete) return;\n        try {\n            await fetch(`/api/v1/harvester/ovasources/${ovaSourceToDelete.metadata.namespace}/${ovaSourceToDelete.metadata.name}`, {\n                method: 'DELETE',\n            });\n            fetchOvaSources();\n            setOvaSourceToDelete(null);\n        } catch (err) {\n            console.error(\"Failed to delete OVA source:\", err);\n        }\n    };\n\n    const handleViewDetails = (plan) => {\n        const detailedPlan = {\n            ...plan,\n            name: plan.metadata.name,\n            // Mock data for VM spec if it's missing in the list view return\n            vms: [{\n                name: plan.spec.virtualMachineName,\n                status: getPlanStatus(plan),\n                progress: 0,\n                cpu: 2,\n                memoryMB: 2048,\n                diskSizeGB: 50,\n            }]\n        };\n        setSelectedPlan(detailedPlan);\n        setPage('planDetails');\n    };\n\n    const handleEditSource = async (source) => {\n        try {\n            const response = await fetch(`/api/v1/harvester/vmwaresources/${source.metadata.namespace}/${source.metadata.name}`);\n            if (!response.ok) {\n                const errData = await response.json();\n                throw new Error(errData.error || \"Failed to fetch source details\");\n            }\n            const data = await response.json();\n            setSourceToEdit(data);\n            setShowSourceWizard(true);\n        } catch (err) {\n            console.error(\"Failed to fetch source details:\", err);\n            alert(`Error fetching source details: ${err.message}`);\n        }\n    };\n\n    const handleEditOvaSource = async (source) => {\n        try {\n            const response = await fetch(`/api/v1/harvester/ovasources/${source.metadata.namespace}/${source.metadata.name}`);\n            if (!response.ok) {\n                const errData = await response.json();\n                throw new Error(errData.error || \"Failed to fetch OVA source details\");\n            }\n            const data = await response.json();\n            setOvaSourceToEdit(data);\n            setShowOvaSourceWizard(true);\n        } catch (err) {\n            console.error(\"Failed to fetch OVA source details:\", err);\n            alert(`Error fetching OVA source details: ${err.message}`);\n        }\n    };\n\n    const renderPage = () => {\n        switch (page) {\n            case 'createPlan':\n                return <CreatePlanWizard onCancel={() => setPage('plans')} onCreatePlan={handleCreatePlan} capabilities={capabilities} />;\n            case 'planDetails':\n                return <PlanDetails plan={selectedPlan} onClose={() => setPage('plans')} />;\n            case 'sourceDetails':\n                return <SourceDetails source={selectedSource} onClose={() => setPage('sources')} />;\n            case 'sources':\n                return (\n                    <div>\n                        <Header title=\"vCenter Sources\" onButtonClick={() => { setSourceToEdit(null); setShowSourceWizard(true); }} />\n                        <SourcesTable sources={sources} onEdit={handleEditSource} onDelete={setSourceToDelete} onViewDetails={(source) => { setSelectedSource(source); setPage('sourceDetails'); }} />\n                    </div>\n                );\n            case 'ovaSourceDetails':\n                return <OvaSourceDetails source={selectedOvaSource} onClose={() => setPage('ovaSources')} />;\n            case 'ovaSources':\n                return (\n                    <div>\n                        <Header title=\"OVA Sources\" onButtonClick={() => { setOvaSourceToEdit(null); setShowOvaSourceWizard(true); }} />\n                        <OvaSourcesTable sources={ovaSources} onEdit={handleEditOvaSource} onDelete={setOvaSourceToDelete} onViewDetails={(source) => { setSelectedOvaSource(source); setPage('ovaSourceDetails'); }} />\n                    </div>\n                );\n            case 'about':\n                return <AboutPage />;\n            case 'plans':\n            default:\n                return (\n                    <div>\n                        <Header title=\"VM Migration Plans\" onButtonClick={() => setPage('createPlan')} />\n                        {isLoading ? <p>Loading plans...</p> : <ResourceTable plans={plans} onViewDetails={handleViewDetails} onDelete={setPlanToDelete} />}\n                        <div className=\"flex justify-end items-center mt-4 space-x-2\">\n                            <button onClick={fetchPlans} className=\"text-blue-500 hover:text-blue-700\"><RefreshCw size={20} /></button>\n                            <input type=\"number\" value={refreshInterval} onChange={e => setRefreshInterval(e.target.value)} className=\"w-20 form-input text-sm\" />\n                            <span className=\"text-sm text-gray-600\">seconds</span>\n                        </div>\n                    </div>\n                );\n        }\n    };\n\n    return (\n        <div className=\"bg-gray-100 min-h-screen p-8 font-sans\">\n            <nav className=\"mb-6 border-b flex space-x-4\">\n                <button onClick={() => setPage('plans')} className={`px-4 py-2 flex items-center font-medium transition-colors ${page === 'plans' ? 'border-b-2 border-blue-500 text-blue-600' : 'text-gray-600 hover:text-gray-800'}`}><List size={18} className=\"mr-2\" /> Migration Plans</button>\n                <button onClick={() => setPage('sources')} className={`px-4 py-2 flex items-center font-medium transition-colors ${page === 'sources' ? 'border-b-2 border-blue-500 text-blue-600' : 'text-gray-600 hover:text-gray-800'}`}><Server size={18} className=\"mr-2\" /> vCenter Sources</button>\n                <button onClick={() => setPage('ovaSources')} className={`px-4 py-2 flex items-center font-medium transition-colors ${page === 'ovaSources' ? 'border-b-2 border-blue-500 text-blue-600' : 'text-gray-600 hover:text-gray-800'}`}><Package size={18} className=\"mr-2\" /> OVA Sources</button>\n                <button onClick={() => setPage('about')} className={`px-4 py-2 flex items-center font-medium transition-colors ${page === 'about' ? 'border-b-2 border-blue-500 text-blue-600' : 'text-gray-600 hover:text-gray-800'}`}><Info size={18} className=\"mr-2\" /> About</button>\n            </nav>\n            <div className=\"max-w-7xl mx-auto\">\n                {renderPage()}\n            </div>\n\n            {showSourceWizard && <SourceWizard onCancel={() => { setShowSourceWizard(false); setSourceToEdit(null); }} onSave={handleSaveSource} source={sourceToEdit} />}\n            {showOvaSourceWizard && <OvaSourceWizard onCancel={() => { setShowOvaSourceWizard(false); setOvaSourceToEdit(null); }} onSave={handleSaveOvaSource} source={ovaSourceToEdit} />}\n\n            {planToDelete && (\n                <div className=\"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center p-4 z-50\">\n                    <div className=\"bg-white rounded-lg shadow-xl p-6\">\n                        <h3 className=\"text-lg font-bold\">Confirm Deletion</h3>\n                        <p className=\"my-4\">Are you sure you want to delete the plan \"{planToDelete.metadata.name}\"?</p>\n                        <div className=\"flex justify-end space-x-4\">\n                            <button onClick={() => setPlanToDelete(null)} className=\"bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-4 rounded-md\">Cancel</button>\n                            <button onClick={handleDeletePlan} className=\"bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded-md\">Delete</button>\n                        </div>\n                    </div>\n                </div>\n            )}\n            {sourceToDelete && (\n                <div className=\"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center p-4 z-50\">\n                    <div className=\"bg-white rounded-lg shadow-xl p-6\">\n                        <h3 className=\"text-lg font-bold\">Confirm Deletion</h3>\n                        <p className=\"my-4\">Are you sure you want to delete the vCenter source \"{sourceToDelete.metadata.name}\"? This will also delete the associated credentials secret.</p>\n                        <div className=\"flex justify-end space-x-4\">\n                            <button onClick={() => setSourceToDelete(null)} className=\"bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-4 rounded-md\">Cancel</button>\n                            <button onClick={handleDeleteSource} className=\"bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded-md\">Delete</button>\n                        </div>\n                    </div>\n                </div>\n            )}\n            {ovaSourceToDelete && (\n                <div className=\"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center p-4 z-50\">\n                    <div className=\"bg-white rounded-lg shadow-xl p-6\">\n                        <h3 className=\"text-lg font-bold\">Confirm Deletion</h3>\n                        <p className=\"my-4\">Are you sure you want to delete the OVA source \"{ovaSourceToDelete.metadata.name}\"? This will also delete the associated credentials secret.</p>\n                        <div className=\"flex justify-end space-x-4\">\n                            <button onClick={() => setOvaSourceToDelete(null)} className=\"bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-4 rounded-md\">Cancel</button>\n                            <button onClick={handleDeleteOvaSource} className=\"bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded-md\">Delete</button>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}